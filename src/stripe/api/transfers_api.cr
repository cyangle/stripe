#  Stripe API
#
# The Stripe REST API. Please see https://stripe.com/docs/api for more details.
#
# The version of the OpenAPI document: 2022-08-01
# Contact: dev-platform@stripe.com
# Generated by: https://openapi-generator.tech
#

require "uri"
require "../api_client"

module Stripe
  class TransfersApi
    property api_client : ApiClient

    delegate client_side_validation, debugging, to: @api_client.config

    def initialize(api_client = ApiClient.default)
      @api_client = api_client
    end

    # <p>Returns a list of existing transfers sent to connected accounts. The transfers are returned in sorted order, with the most recently created transfers appearing first.</p>
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param destination [String?] Only return transfers for the destination specified by this account ID.
    # @optional @param transfer_group [String?] Only return transfers with the specified transfer group.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @optional @param created [Stripe::GetAccountsCreatedParameter?]
    # @return [Stripe::TransferList]
    def get_transfers(*, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, destination : String? = nil, transfer_group : String? = nil, expand : Array(Array(String))? = nil, created : Stripe::GetAccountsCreatedParameter? = nil) : Stripe::TransferList
      data, _status_code, _headers = get_transfers_with_http_info(ending_before: ending_before, starting_after: starting_after, limit: limit, destination: destination, transfer_group: transfer_group, expand: expand, created: created)
      data
    end

    # &lt;p&gt;Returns a list of existing transfers sent to connected accounts. The transfers are returned in sorted order, with the most recently created transfers appearing first.&lt;/p&gt;
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param destination [String?] Only return transfers for the destination specified by this account ID.
    # @optional @param transfer_group [String?] Only return transfers with the specified transfer group.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @optional @param created [Stripe::GetAccountsCreatedParameter?]
    # @return [Tuple(Stripe::TransferList, Integer, Hash)] Stripe::TransferList, response status code and response headers
    def get_transfers_with_http_info(*, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, destination : String? = nil, transfer_group : String? = nil, expand : Array(Array(String))? = nil, created : Stripe::GetAccountsCreatedParameter? = nil) : Tuple(Stripe::TransferList, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_transfers(ending_before: ending_before, starting_after: starting_after, limit: limit, destination: destination, transfer_group: transfer_group, expand: expand, created: created)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#get_transfers\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::TransferList.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Returns a list of existing transfers sent to connected accounts. The transfers are returned in sorted order, with the most recently created transfers appearing first.&lt;/p&gt;
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param destination [String?] Only return transfers for the destination specified by this account ID.
    # @optional @param transfer_group [String?] Only return transfers with the specified transfer group.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @optional @param created [Stripe::GetAccountsCreatedParameter?]
    # @return nil
    def get_transfers(*, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, destination : String? = nil, transfer_group : String? = nil, expand : Array(Array(String))? = nil, created : Stripe::GetAccountsCreatedParameter? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_get_transfers(ending_before: ending_before, starting_after: starting_after, limit: limit, destination: destination, transfer_group: transfer_group, expand: expand, created: created).execute(&block)
    end

    GET_TRANSFERS_MAX_LENGTH_FOR_ENDING_BEFORE  = 5000
    GET_TRANSFERS_MAX_LENGTH_FOR_STARTING_AFTER = 5000
    GET_TRANSFERS_MAX_LENGTH_FOR_DESTINATION    = 5000
    GET_TRANSFERS_MAX_LENGTH_FOR_TRANSFER_GROUP = 5000

    # @return Crest::Request
    def build_api_request_for_get_transfers(*, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, destination : String? = nil, transfer_group : String? = nil, expand : Array(Array(String))? = nil, created : Stripe::GetAccountsCreatedParameter? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.get_transfers ..." }
      end

      if client_side_validation
        unless (_ending_before = ending_before).nil?
          OpenApi::PrimitiveValidator.validate_max_length("ending_before", ending_before.to_s.size, GET_TRANSFERS_MAX_LENGTH_FOR_ENDING_BEFORE)
        end
        unless (_starting_after = starting_after).nil?
          OpenApi::PrimitiveValidator.validate_max_length("starting_after", starting_after.to_s.size, GET_TRANSFERS_MAX_LENGTH_FOR_STARTING_AFTER)
        end

        unless (_destination = destination).nil?
          OpenApi::PrimitiveValidator.validate_max_length("destination", destination.to_s.size, GET_TRANSFERS_MAX_LENGTH_FOR_DESTINATION)
        end
        unless (_transfer_group = transfer_group).nil?
          OpenApi::PrimitiveValidator.validate_max_length("transfer_group", transfer_group.to_s.size, GET_TRANSFERS_MAX_LENGTH_FOR_TRANSFER_GROUP)
        end

        unless (_created = created).nil?
          _created.validate if _created.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/transfers"

      # query parameters
      query_params = Hash(String, (String | Array(String))).new
      query_params["ending_before"] = ending_before.to_s if !ending_before.nil?
      query_params["starting_after"] = starting_after.to_s if !starting_after.nil?
      query_params["limit"] = limit.to_s if !limit.nil?
      query_params["destination"] = destination.to_s if !destination.nil?
      query_params["transfer_group"] = transfer_group.to_s if !transfer_group.nil?
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?
      query_params["created"] = created.to_s if !created.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = nil

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "TransfersApi.get_transfers",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>You can see a list of the reversals belonging to a specific transfer. Note that the 10 most recent reversals are always available by default on the transfer object. If you need more than those 10, you can use this API method and the <code>limit</code> and <code>starting_after</code> parameters to page through additional reversals.</p>
    # @required @param id [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::TransferReversalList]
    def get_transfers_id_reversals(*, id : String? = nil, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, expand : Array(Array(String))? = nil) : Stripe::TransferReversalList
      data, _status_code, _headers = get_transfers_id_reversals_with_http_info(id: id, ending_before: ending_before, starting_after: starting_after, limit: limit, expand: expand)
      data
    end

    # &lt;p&gt;You can see a list of the reversals belonging to a specific transfer. Note that the 10 most recent reversals are always available by default on the transfer object. If you need more than those 10, you can use this API method and the &lt;code&gt;limit&lt;/code&gt; and &lt;code&gt;starting_after&lt;/code&gt; parameters to page through additional reversals.&lt;/p&gt;
    # @required @param id [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::TransferReversalList, Integer, Hash)] Stripe::TransferReversalList, response status code and response headers
    def get_transfers_id_reversals_with_http_info(*, id : String? = nil, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, expand : Array(Array(String))? = nil) : Tuple(Stripe::TransferReversalList, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_transfers_id_reversals(id: id, ending_before: ending_before, starting_after: starting_after, limit: limit, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#get_transfers_id_reversals\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::TransferReversalList.from_json(body), status_code, headers)
    end

    # &lt;p&gt;You can see a list of the reversals belonging to a specific transfer. Note that the 10 most recent reversals are always available by default on the transfer object. If you need more than those 10, you can use this API method and the &lt;code&gt;limit&lt;/code&gt; and &lt;code&gt;starting_after&lt;/code&gt; parameters to page through additional reversals.&lt;/p&gt;
    # @required @param id [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_transfers_id_reversals(*, id : String? = nil, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, expand : Array(Array(String))? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_get_transfers_id_reversals(id: id, ending_before: ending_before, starting_after: starting_after, limit: limit, expand: expand).execute(&block)
    end

    GET_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_ID             = 5000
    GET_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_ENDING_BEFORE  = 5000
    GET_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_STARTING_AFTER = 5000

    # @return Crest::Request
    def build_api_request_for_get_transfers_id_reversals(*, id : String? = nil, ending_before : String? = nil, starting_after : String? = nil, limit : Int64? = nil, expand : Array(Array(String))? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.get_transfers_id_reversals ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?
        unless (_id = id).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id", id.to_s.size, GET_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_ID)
        end
        unless (_ending_before = ending_before).nil?
          OpenApi::PrimitiveValidator.validate_max_length("ending_before", ending_before.to_s.size, GET_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_ENDING_BEFORE)
        end
        unless (_starting_after = starting_after).nil?
          OpenApi::PrimitiveValidator.validate_max_length("starting_after", starting_after.to_s.size, GET_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_STARTING_AFTER)
        end
      end

      # resource path
      local_var_path = "/v1/transfers/{id}/reversals".sub("{" + "id" + "}", URI.encode_path(id.to_s))

      # query parameters
      query_params = Hash(String, (String | Array(String))).new
      query_params["ending_before"] = ending_before.to_s if !ending_before.nil?
      query_params["starting_after"] = starting_after.to_s if !starting_after.nil?
      query_params["limit"] = limit.to_s if !limit.nil?
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = nil

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "TransfersApi.get_transfers_id_reversals",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Retrieves the details of an existing transfer. Supply the unique transfer ID from either a transfer creation request or the transfer list, and Stripe will return the corresponding transfer information.</p>
    # @required @param transfer [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::Transfer]
    def get_transfers_transfer(*, transfer : String? = nil, expand : Array(Array(String))? = nil) : Stripe::Transfer
      data, _status_code, _headers = get_transfers_transfer_with_http_info(transfer: transfer, expand: expand)
      data
    end

    # &lt;p&gt;Retrieves the details of an existing transfer. Supply the unique transfer ID from either a transfer creation request or the transfer list, and Stripe will return the corresponding transfer information.&lt;/p&gt;
    # @required @param transfer [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::Transfer, Integer, Hash)] Stripe::Transfer, response status code and response headers
    def get_transfers_transfer_with_http_info(*, transfer : String? = nil, expand : Array(Array(String))? = nil) : Tuple(Stripe::Transfer, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_transfers_transfer(transfer: transfer, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#get_transfers_transfer\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Transfer.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Retrieves the details of an existing transfer. Supply the unique transfer ID from either a transfer creation request or the transfer list, and Stripe will return the corresponding transfer information.&lt;/p&gt;
    # @required @param transfer [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_transfers_transfer(*, transfer : String? = nil, expand : Array(Array(String))? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_get_transfers_transfer(transfer: transfer, expand: expand).execute(&block)
    end

    GET_TRANSFERS_TRANSFER_MAX_LENGTH_FOR_TRANSFER = 5000

    # @return Crest::Request
    def build_api_request_for_get_transfers_transfer(*, transfer : String? = nil, expand : Array(Array(String))? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.get_transfers_transfer ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"transfer\" is required and cannot be null") if transfer.nil?
        unless (_transfer = transfer).nil?
          OpenApi::PrimitiveValidator.validate_max_length("transfer", transfer.to_s.size, GET_TRANSFERS_TRANSFER_MAX_LENGTH_FOR_TRANSFER)
        end
      end

      # resource path
      local_var_path = "/v1/transfers/{transfer}".sub("{" + "transfer" + "}", URI.encode_path(transfer.to_s))

      # query parameters
      query_params = Hash(String, (String | Array(String))).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = nil

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "TransfersApi.get_transfers_transfer",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>By default, you can see the 10 most recent reversals stored directly on the transfer object, but you can also retrieve details about a specific reversal stored on the transfer.</p>
    # @required @param id [String?]
    # @required @param transfer [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::TransferReversal]
    def get_transfers_transfer_reversals_id(*, id : String? = nil, transfer : String? = nil, expand : Array(Array(String))? = nil) : Stripe::TransferReversal
      data, _status_code, _headers = get_transfers_transfer_reversals_id_with_http_info(id: id, transfer: transfer, expand: expand)
      data
    end

    # &lt;p&gt;By default, you can see the 10 most recent reversals stored directly on the transfer object, but you can also retrieve details about a specific reversal stored on the transfer.&lt;/p&gt;
    # @required @param id [String?]
    # @required @param transfer [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::TransferReversal, Integer, Hash)] Stripe::TransferReversal, response status code and response headers
    def get_transfers_transfer_reversals_id_with_http_info(*, id : String? = nil, transfer : String? = nil, expand : Array(Array(String))? = nil) : Tuple(Stripe::TransferReversal, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_transfers_transfer_reversals_id(id: id, transfer: transfer, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#get_transfers_transfer_reversals_id\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::TransferReversal.from_json(body), status_code, headers)
    end

    # &lt;p&gt;By default, you can see the 10 most recent reversals stored directly on the transfer object, but you can also retrieve details about a specific reversal stored on the transfer.&lt;/p&gt;
    # @required @param id [String?]
    # @required @param transfer [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_transfers_transfer_reversals_id(*, id : String? = nil, transfer : String? = nil, expand : Array(Array(String))? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_get_transfers_transfer_reversals_id(id: id, transfer: transfer, expand: expand).execute(&block)
    end

    GET_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_ID       = 5000
    GET_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_TRANSFER = 5000

    # @return Crest::Request
    def build_api_request_for_get_transfers_transfer_reversals_id(*, id : String? = nil, transfer : String? = nil, expand : Array(Array(String))? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.get_transfers_transfer_reversals_id ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?
        unless (_id = id).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id", id.to_s.size, GET_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_ID)
        end
        raise ArgumentError.new("\"transfer\" is required and cannot be null") if transfer.nil?
        unless (_transfer = transfer).nil?
          OpenApi::PrimitiveValidator.validate_max_length("transfer", transfer.to_s.size, GET_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_TRANSFER)
        end
      end

      # resource path
      local_var_path = "/v1/transfers/{transfer}/reversals/{id}".sub("{" + "id" + "}", URI.encode_path(id.to_s)).sub("{" + "transfer" + "}", URI.encode_path(transfer.to_s))

      # query parameters
      query_params = Hash(String, (String | Array(String))).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = nil

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "TransfersApi.get_transfers_transfer_reversals_id",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>To send funds from your Stripe account to a connected account, you create a new transfer object. Your <a href=\"#balance\">Stripe balance</a> must be able to cover the transfer amount, or you’ll receive an “Insufficient Funds” error.</p>
    # @required @param currency [String?] 3-letter [ISO code for currency](https://stripe.com/docs/payouts).
    # @required @param destination [String?] The ID of a connected Stripe account. <a href=\\\"/docs/connect/charges-transfers\\\">See the Connect documentation</a> for details.
    # @optional @param amount [Int32?] A positive integer in cents (or local equivalent) representing how much to transfer.
    # @optional @param description [String?] An arbitrary string attached to the object. Often useful for displaying to users.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param source_transaction [String?] You can use this parameter to transfer funds from a charge before they are added to your available balance. A pending balance will transfer immediately but the funds will not become available until the original charge becomes available. [See the Connect documentation](https://stripe.com/docs/connect/charges-transfers#transfer-availability) for details.
    # @optional @param source_type [String?] The source balance to use for this transfer. One of `bank_account`, `card`, or `fpx`. For most users, this will default to `card`.
    # @optional @param transfer_group [String?] A string that identifies this transaction as part of a group. See the [Connect documentation](https://stripe.com/docs/connect/charges-transfers#transfer-options) for details.
    # @return [Stripe::Transfer]
    def post_transfers(*, currency : String? = nil, destination : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, source_transaction : String? = nil, source_type : String? = nil, transfer_group : String? = nil) : Stripe::Transfer
      data, _status_code, _headers = post_transfers_with_http_info(currency: currency, destination: destination, amount: amount, description: description, expand: expand, source_transaction: source_transaction, source_type: source_type, transfer_group: transfer_group)
      data
    end

    # &lt;p&gt;To send funds from your Stripe account to a connected account, you create a new transfer object. Your &lt;a href&#x3D;\&quot;#balance\&quot;&gt;Stripe balance&lt;/a&gt; must be able to cover the transfer amount, or you’ll receive an “Insufficient Funds” error.&lt;/p&gt;
    # @required @param currency [String?] 3-letter [ISO code for currency](https://stripe.com/docs/payouts).
    # @required @param destination [String?] The ID of a connected Stripe account. <a href=\\\"/docs/connect/charges-transfers\\\">See the Connect documentation</a> for details.
    # @optional @param amount [Int32?] A positive integer in cents (or local equivalent) representing how much to transfer.
    # @optional @param description [String?] An arbitrary string attached to the object. Often useful for displaying to users.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param source_transaction [String?] You can use this parameter to transfer funds from a charge before they are added to your available balance. A pending balance will transfer immediately but the funds will not become available until the original charge becomes available. [See the Connect documentation](https://stripe.com/docs/connect/charges-transfers#transfer-availability) for details.
    # @optional @param source_type [String?] The source balance to use for this transfer. One of `bank_account`, `card`, or `fpx`. For most users, this will default to `card`.
    # @optional @param transfer_group [String?] A string that identifies this transaction as part of a group. See the [Connect documentation](https://stripe.com/docs/connect/charges-transfers#transfer-options) for details.
    # @return [Tuple(Stripe::Transfer, Integer, Hash)] Stripe::Transfer, response status code and response headers
    def post_transfers_with_http_info(*, currency : String? = nil, destination : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, source_transaction : String? = nil, source_type : String? = nil, transfer_group : String? = nil) : Tuple(Stripe::Transfer, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_transfers(currency: currency, destination: destination, amount: amount, description: description, expand: expand, source_transaction: source_transaction, source_type: source_type, transfer_group: transfer_group)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#post_transfers\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Transfer.from_json(body), status_code, headers)
    end

    # &lt;p&gt;To send funds from your Stripe account to a connected account, you create a new transfer object. Your &lt;a href&#x3D;\&quot;#balance\&quot;&gt;Stripe balance&lt;/a&gt; must be able to cover the transfer amount, or you’ll receive an “Insufficient Funds” error.&lt;/p&gt;
    # @required @param currency [String?] 3-letter [ISO code for currency](https://stripe.com/docs/payouts).
    # @required @param destination [String?] The ID of a connected Stripe account. <a href=\\\"/docs/connect/charges-transfers\\\">See the Connect documentation</a> for details.
    # @optional @param amount [Int32?] A positive integer in cents (or local equivalent) representing how much to transfer.
    # @optional @param description [String?] An arbitrary string attached to the object. Often useful for displaying to users.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param source_transaction [String?] You can use this parameter to transfer funds from a charge before they are added to your available balance. A pending balance will transfer immediately but the funds will not become available until the original charge becomes available. [See the Connect documentation](https://stripe.com/docs/connect/charges-transfers#transfer-availability) for details.
    # @optional @param source_type [String?] The source balance to use for this transfer. One of `bank_account`, `card`, or `fpx`. For most users, this will default to `card`.
    # @optional @param transfer_group [String?] A string that identifies this transaction as part of a group. See the [Connect documentation](https://stripe.com/docs/connect/charges-transfers#transfer-options) for details.
    # @return nil
    def post_transfers(*, currency : String? = nil, destination : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, source_transaction : String? = nil, source_type : String? = nil, transfer_group : String? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_post_transfers(currency: currency, destination: destination, amount: amount, description: description, expand: expand, source_transaction: source_transaction, source_type: source_type, transfer_group: transfer_group).execute(&block)
    end

    POST_TRANSFERS_MAX_LENGTH_FOR_DESCRIPTION   = 5000
    POST_TRANSFERS_MAX_LENGTH_FOR_SOURCE_TYPE   = 5000
    POST_TRANSFERS_VALID_VALUES_FOR_SOURCE_TYPE = String.static_array("bank_account", "card", "fpx")

    # @return Crest::Request
    def build_api_request_for_post_transfers(*, currency : String? = nil, destination : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, source_transaction : String? = nil, source_type : String? = nil, transfer_group : String? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.post_transfers ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"currency\" is required and cannot be null") if currency.nil?

        raise ArgumentError.new("\"destination\" is required and cannot be null") if destination.nil?

        unless (_description = description).nil?
          OpenApi::PrimitiveValidator.validate_max_length("description", description.to_s.size, POST_TRANSFERS_MAX_LENGTH_FOR_DESCRIPTION)
        end

        unless (_source_type = source_type).nil?
          OpenApi::EnumValidator.validate("source_type", _source_type, POST_TRANSFERS_VALID_VALUES_FOR_SOURCE_TYPE)
        end
      end

      # resource path
      local_var_path = "/v1/transfers"

      # query parameters
      query_params = Hash(String, (String | Array(String))).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # form parameters
      form_params = Hash(String, (String | Array(String) | IO)).new
      form_params["amount"] = amount.to_s if !amount.nil?
      form_params["currency"] = currency.to_s if !currency.nil?
      form_params["description"] = description.to_s if !description.nil?
      form_params["destination"] = destination.to_s if !destination.nil?
      form_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?
      form_params["source_transaction"] = source_transaction.to_s if !source_transaction.nil?
      form_params["source_type"] = source_type.to_s if !source_type.nil?
      form_params["transfer_group"] = transfer_group.to_s if !transfer_group.nil?

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "TransfersApi.post_transfers",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>When you create a new reversal, you must specify a transfer to create it on.</p>  <p>When reversing transfers, you can optionally reverse part of the transfer. You can do so as many times as you wish until the entire transfer has been reversed.</p>  <p>Once entirely reversed, a transfer can’t be reversed again. This method will return an error when called on an already-reversed transfer, or when trying to reverse more money than is left on a transfer.</p>
    # @required @param id [String?]
    # @optional @param amount [Int32?] A positive integer in cents (or local equivalent) representing how much of this transfer to reverse. Can only reverse up to the unreversed amount remaining of the transfer. Partial transfer reversals are only allowed for transfers to Stripe Accounts. Defaults to the entire transfer amount.
    # @optional @param description [String?] An arbitrary string which you can attach to a reversal object. It is displayed alongside the reversal in the Dashboard. This will be unset if you POST an empty value.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param refund_application_fee [Bool?] Boolean indicating whether the application fee should be refunded when reversing this transfer. If a full transfer reversal is given, the full application fee will be refunded. Otherwise, the application fee will be refunded with an amount proportional to the amount of the transfer reversed.
    # @return [Stripe::TransferReversal]
    def post_transfers_id_reversals(*, id : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil, refund_application_fee : Bool? = nil) : Stripe::TransferReversal
      data, _status_code, _headers = post_transfers_id_reversals_with_http_info(id: id, amount: amount, description: description, expand: expand, metadata: metadata, refund_application_fee: refund_application_fee)
      data
    end

    # &lt;p&gt;When you create a new reversal, you must specify a transfer to create it on.&lt;/p&gt;  &lt;p&gt;When reversing transfers, you can optionally reverse part of the transfer. You can do so as many times as you wish until the entire transfer has been reversed.&lt;/p&gt;  &lt;p&gt;Once entirely reversed, a transfer can’t be reversed again. This method will return an error when called on an already-reversed transfer, or when trying to reverse more money than is left on a transfer.&lt;/p&gt;
    # @required @param id [String?]
    # @optional @param amount [Int32?] A positive integer in cents (or local equivalent) representing how much of this transfer to reverse. Can only reverse up to the unreversed amount remaining of the transfer. Partial transfer reversals are only allowed for transfers to Stripe Accounts. Defaults to the entire transfer amount.
    # @optional @param description [String?] An arbitrary string which you can attach to a reversal object. It is displayed alongside the reversal in the Dashboard. This will be unset if you POST an empty value.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param refund_application_fee [Bool?] Boolean indicating whether the application fee should be refunded when reversing this transfer. If a full transfer reversal is given, the full application fee will be refunded. Otherwise, the application fee will be refunded with an amount proportional to the amount of the transfer reversed.
    # @return [Tuple(Stripe::TransferReversal, Integer, Hash)] Stripe::TransferReversal, response status code and response headers
    def post_transfers_id_reversals_with_http_info(*, id : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil, refund_application_fee : Bool? = nil) : Tuple(Stripe::TransferReversal, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_transfers_id_reversals(id: id, amount: amount, description: description, expand: expand, metadata: metadata, refund_application_fee: refund_application_fee)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#post_transfers_id_reversals\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::TransferReversal.from_json(body), status_code, headers)
    end

    # &lt;p&gt;When you create a new reversal, you must specify a transfer to create it on.&lt;/p&gt;  &lt;p&gt;When reversing transfers, you can optionally reverse part of the transfer. You can do so as many times as you wish until the entire transfer has been reversed.&lt;/p&gt;  &lt;p&gt;Once entirely reversed, a transfer can’t be reversed again. This method will return an error when called on an already-reversed transfer, or when trying to reverse more money than is left on a transfer.&lt;/p&gt;
    # @required @param id [String?]
    # @optional @param amount [Int32?] A positive integer in cents (or local equivalent) representing how much of this transfer to reverse. Can only reverse up to the unreversed amount remaining of the transfer. Partial transfer reversals are only allowed for transfers to Stripe Accounts. Defaults to the entire transfer amount.
    # @optional @param description [String?] An arbitrary string which you can attach to a reversal object. It is displayed alongside the reversal in the Dashboard. This will be unset if you POST an empty value.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param refund_application_fee [Bool?] Boolean indicating whether the application fee should be refunded when reversing this transfer. If a full transfer reversal is given, the full application fee will be refunded. Otherwise, the application fee will be refunded with an amount proportional to the amount of the transfer reversed.
    # @return nil
    def post_transfers_id_reversals(*, id : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil, refund_application_fee : Bool? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_post_transfers_id_reversals(id: id, amount: amount, description: description, expand: expand, metadata: metadata, refund_application_fee: refund_application_fee).execute(&block)
    end

    POST_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_ID          = 5000
    POST_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_DESCRIPTION = 5000

    # @return Crest::Request
    def build_api_request_for_post_transfers_id_reversals(*, id : String? = nil, amount : Int64? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil, refund_application_fee : Bool? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.post_transfers_id_reversals ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?
        unless (_id = id).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id", id.to_s.size, POST_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_ID)
        end

        unless (_description = description).nil?
          OpenApi::PrimitiveValidator.validate_max_length("description", description.to_s.size, POST_TRANSFERS_ID_REVERSALS_MAX_LENGTH_FOR_DESCRIPTION)
        end

        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/transfers/{id}/reversals".sub("{" + "id" + "}", URI.encode_path(id.to_s))

      # query parameters
      query_params = Hash(String, (String | Array(String))).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # form parameters
      form_params = Hash(String, (String | Array(String) | IO)).new
      form_params["amount"] = amount.to_s if !amount.nil?
      form_params["description"] = description.to_s if !description.nil?
      form_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?
      form_params["metadata"] = metadata.to_s if !metadata.nil?
      form_params["refund_application_fee"] = refund_application_fee.to_s if !refund_application_fee.nil?

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "TransfersApi.post_transfers_id_reversals",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Updates the specified transfer by setting the values of the parameters passed. Any parameters not provided will be left unchanged.</p>  <p>This request accepts only metadata as an argument.</p>
    # @required @param transfer [String?]
    # @optional @param description [String?] An arbitrary string attached to the object. Often useful for displaying to users.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @return [Stripe::Transfer]
    def post_transfers_transfer(*, transfer : String? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil) : Stripe::Transfer
      data, _status_code, _headers = post_transfers_transfer_with_http_info(transfer: transfer, description: description, expand: expand, metadata: metadata)
      data
    end

    # &lt;p&gt;Updates the specified transfer by setting the values of the parameters passed. Any parameters not provided will be left unchanged.&lt;/p&gt;  &lt;p&gt;This request accepts only metadata as an argument.&lt;/p&gt;
    # @required @param transfer [String?]
    # @optional @param description [String?] An arbitrary string attached to the object. Often useful for displaying to users.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @return [Tuple(Stripe::Transfer, Integer, Hash)] Stripe::Transfer, response status code and response headers
    def post_transfers_transfer_with_http_info(*, transfer : String? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil) : Tuple(Stripe::Transfer, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_transfers_transfer(transfer: transfer, description: description, expand: expand, metadata: metadata)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#post_transfers_transfer\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Transfer.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Updates the specified transfer by setting the values of the parameters passed. Any parameters not provided will be left unchanged.&lt;/p&gt;  &lt;p&gt;This request accepts only metadata as an argument.&lt;/p&gt;
    # @required @param transfer [String?]
    # @optional @param description [String?] An arbitrary string attached to the object. Often useful for displaying to users.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @return nil
    def post_transfers_transfer(*, transfer : String? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_post_transfers_transfer(transfer: transfer, description: description, expand: expand, metadata: metadata).execute(&block)
    end

    POST_TRANSFERS_TRANSFER_MAX_LENGTH_FOR_TRANSFER    = 5000
    POST_TRANSFERS_TRANSFER_MAX_LENGTH_FOR_DESCRIPTION = 5000

    # @return Crest::Request
    def build_api_request_for_post_transfers_transfer(*, transfer : String? = nil, description : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.post_transfers_transfer ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"transfer\" is required and cannot be null") if transfer.nil?
        unless (_transfer = transfer).nil?
          OpenApi::PrimitiveValidator.validate_max_length("transfer", transfer.to_s.size, POST_TRANSFERS_TRANSFER_MAX_LENGTH_FOR_TRANSFER)
        end
        unless (_description = description).nil?
          OpenApi::PrimitiveValidator.validate_max_length("description", description.to_s.size, POST_TRANSFERS_TRANSFER_MAX_LENGTH_FOR_DESCRIPTION)
        end

        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/transfers/{transfer}".sub("{" + "transfer" + "}", URI.encode_path(transfer.to_s))

      # query parameters
      query_params = Hash(String, (String | Array(String))).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # form parameters
      form_params = Hash(String, (String | Array(String) | IO)).new
      form_params["description"] = description.to_s if !description.nil?
      form_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?
      form_params["metadata"] = metadata.to_s if !metadata.nil?

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "TransfersApi.post_transfers_transfer",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Updates the specified reversal by setting the values of the parameters passed. Any parameters not provided will be left unchanged.</p>  <p>This request only accepts metadata and description as arguments.</p>
    # @required @param id [String?]
    # @required @param transfer [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @return [Stripe::TransferReversal]
    def post_transfers_transfer_reversals_id(*, id : String? = nil, transfer : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil) : Stripe::TransferReversal
      data, _status_code, _headers = post_transfers_transfer_reversals_id_with_http_info(id: id, transfer: transfer, expand: expand, metadata: metadata)
      data
    end

    # &lt;p&gt;Updates the specified reversal by setting the values of the parameters passed. Any parameters not provided will be left unchanged.&lt;/p&gt;  &lt;p&gt;This request only accepts metadata and description as arguments.&lt;/p&gt;
    # @required @param id [String?]
    # @required @param transfer [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @return [Tuple(Stripe::TransferReversal, Integer, Hash)] Stripe::TransferReversal, response status code and response headers
    def post_transfers_transfer_reversals_id_with_http_info(*, id : String? = nil, transfer : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil) : Tuple(Stripe::TransferReversal, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_transfers_transfer_reversals_id(id: id, transfer: transfer, expand: expand, metadata: metadata)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging
        Log.debug { "API called: TransfersApi#post_transfers_transfer_reversals_id\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::TransferReversal.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Updates the specified reversal by setting the values of the parameters passed. Any parameters not provided will be left unchanged.&lt;/p&gt;  &lt;p&gt;This request only accepts metadata and description as arguments.&lt;/p&gt;
    # @required @param id [String?]
    # @required @param transfer [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @return nil
    def post_transfers_transfer_reversals_id(*, id : String? = nil, transfer : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil, &block : Crest::Response ->) : Nil
      build_api_request_for_post_transfers_transfer_reversals_id(id: id, transfer: transfer, expand: expand, metadata: metadata).execute(&block)
    end

    POST_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_ID       = 5000
    POST_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_TRANSFER = 5000

    # @return Crest::Request
    def build_api_request_for_post_transfers_transfer_reversals_id(*, id : String? = nil, transfer : String? = nil, expand : Array(String)? = nil, metadata : Stripe::PostAccountsRequestMetadata? = nil) : Crest::Request
      if debugging
        Log.debug { "Calling API: TransfersApi.post_transfers_transfer_reversals_id ..." }
      end

      if client_side_validation
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?
        unless (_id = id).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id", id.to_s.size, POST_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_ID)
        end
        raise ArgumentError.new("\"transfer\" is required and cannot be null") if transfer.nil?
        unless (_transfer = transfer).nil?
          OpenApi::PrimitiveValidator.validate_max_length("transfer", transfer.to_s.size, POST_TRANSFERS_TRANSFER_REVERSALS_ID_MAX_LENGTH_FOR_TRANSFER)
        end

        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/transfers/{transfer}/reversals/{id}".sub("{" + "id" + "}", URI.encode_path(id.to_s)).sub("{" + "transfer" + "}", URI.encode_path(transfer.to_s))

      # query parameters
      query_params = Hash(String, (String | Array(String))).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # form parameters
      form_params = Hash(String, (String | Array(String) | IO)).new
      form_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?
      form_params["metadata"] = metadata.to_s if !metadata.nil?

      # http body (model)
      post_body = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "TransfersApi.post_transfers_transfer_reversals_id",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        query_params: query_params,
        form_params: form_params
      )
    end
  end
end
