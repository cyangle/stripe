#  Stripe API
#
# The Stripe REST API. Please see https://stripe.com/docs/api for more details.
#
# The version of the OpenAPI document: 2024-06-20
# Contact: dev-platform@stripe.com
# Generated by: https://openapi-generator.tech
#

require "../../core"

require "../models/account"
require "../models/account_list"
require "../models/address_specs"
require "../models/all_people_relationship_specs"
require "../models/business_profile_specs"
require "../models/capabilities_param"
require "../models/capability"
require "../models/company_specs"
require "../models/controller_specs"
require "../models/deleted_account"
require "../models/deleted_external_account"
require "../models/deleted_person"
require "../models/documents_specs"
require "../models/error"
require "../models/external_account"
require "../models/external_account_documents_param"
require "../models/external_account_list"
require "../models/get_accounts_created_parameter"
require "../models/individual_specs"

require "../models/japan_address_kana_specs"
require "../models/japan_address_kanji_specs"
require "../models/legal_entity_and_kyc_address_specs"
require "../models/list_account_capability"
require "../models/login_link"
require "../models/person"
require "../models/person_additional_tos_acceptances_specs"
require "../models/person_documents_specs"
require "../models/person_list"
require "../models/person_verification_specs"
require "../models/post_accounts_account_persons_request_dob"
require "../models/post_accounts_account_persons_request_full_name_aliases"
require "../models/post_accounts_request_metadata"
require "../models/relationship_specs"
require "../models/settings_specs"
require "../models/settings_specs_update"
require "../models/tos_acceptance_specs"

module Stripe
  class AccountsApi
    property api_client : ApiClient

    delegate client_side_validation?, debugging?, to: @api_client.config

    def initialize(api_client = ApiClient.default)
      @api_client = api_client
    end

    # <p>With <a href=\"/connect\">Connect</a>, you can delete accounts you manage.</p>  <p>Test-mode accounts can be deleted at any time.</p>  <p>Live-mode accounts where Stripe is responsible for negative account balances cannot be deleted, which includes Standard accounts. Live-mode accounts where your platform is liable for negative account balances, which includes Custom and Express accounts, can be deleted when all <a href=\"/api/balance/balance_object\">balances</a> are zero.</p>  <p>If you want to delete your own account, use the <a href=\"https://dashboard.stripe.com/settings/account\">account information tab in your account settings</a> instead.</p>
    # @required @param account [String?]
    # @return [Stripe::DeletedAccount]
    def delete_accounts_account(
      *,
      account : String? = nil
    ) : Stripe::DeletedAccount
      data, _status_code, _headers = delete_accounts_account_with_http_info(account: account)
      data
    end

    # &lt;p&gt;With &lt;a href&#x3D;\&quot;/connect\&quot;&gt;Connect&lt;/a&gt;, you can delete accounts you manage.&lt;/p&gt;  &lt;p&gt;Test-mode accounts can be deleted at any time.&lt;/p&gt;  &lt;p&gt;Live-mode accounts where Stripe is responsible for negative account balances cannot be deleted, which includes Standard accounts. Live-mode accounts where your platform is liable for negative account balances, which includes Custom and Express accounts, can be deleted when all &lt;a href&#x3D;\&quot;/api/balance/balance_object\&quot;&gt;balances&lt;/a&gt; are zero.&lt;/p&gt;  &lt;p&gt;If you want to delete your own account, use the &lt;a href&#x3D;\&quot;https://dashboard.stripe.com/settings/account\&quot;&gt;account information tab in your account settings&lt;/a&gt; instead.&lt;/p&gt;
    # @required @param account [String?]
    # @return [Tuple(Stripe::DeletedAccount, Integer, Hash)] Stripe::DeletedAccount, response status code and response headers
    def delete_accounts_account_with_http_info(
      *,
      account : String? = nil
    ) : Tuple(Stripe::DeletedAccount, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_delete_accounts_account(account: account)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#delete_accounts_account\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::DeletedAccount.from_json(body), status_code, headers)
    end

    # &lt;p&gt;With &lt;a href&#x3D;\&quot;/connect\&quot;&gt;Connect&lt;/a&gt;, you can delete accounts you manage.&lt;/p&gt;  &lt;p&gt;Test-mode accounts can be deleted at any time.&lt;/p&gt;  &lt;p&gt;Live-mode accounts where Stripe is responsible for negative account balances cannot be deleted, which includes Standard accounts. Live-mode accounts where your platform is liable for negative account balances, which includes Custom and Express accounts, can be deleted when all &lt;a href&#x3D;\&quot;/api/balance/balance_object\&quot;&gt;balances&lt;/a&gt; are zero.&lt;/p&gt;  &lt;p&gt;If you want to delete your own account, use the &lt;a href&#x3D;\&quot;https://dashboard.stripe.com/settings/account\&quot;&gt;account information tab in your account settings&lt;/a&gt; instead.&lt;/p&gt;
    # @required @param account [String?]
    # @return nil
    def delete_accounts_account(
      *,
      account : String? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_delete_accounts_account(account: account).execute(&block)
    end

    DELETE_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_delete_accounts_account(
      *,
      account : String? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.delete_accounts_account ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, DELETE_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"DELETE",
        path: local_var_path,
        operation: "AccountsApi.delete_accounts_account",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Delete a specified external account for a given account.</p>
    # @required @param account [String?]
    # @required @param id [String?]
    # @return [Stripe::DeletedExternalAccount]
    def delete_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil
    ) : Stripe::DeletedExternalAccount
      data, _status_code, _headers = delete_accounts_account_external_accounts_id_with_http_info(account: account, id: id)
      data
    end

    # &lt;p&gt;Delete a specified external account for a given account.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param id [String?]
    # @return [Tuple(Stripe::DeletedExternalAccount, Integer, Hash)] Stripe::DeletedExternalAccount, response status code and response headers
    def delete_accounts_account_external_accounts_id_with_http_info(
      *,
      account : String? = nil,
      id : String? = nil
    ) : Tuple(Stripe::DeletedExternalAccount, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_delete_accounts_account_external_accounts_id(account: account, id: id)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#delete_accounts_account_external_accounts_id\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::DeletedExternalAccount.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Delete a specified external account for a given account.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param id [String?]
    # @return nil
    def delete_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_delete_accounts_account_external_accounts_id(account: account, id: id).execute(&block)
    end

    DELETE_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_delete_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.delete_accounts_account_external_accounts_id ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, DELETE_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/external_accounts/{id}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "id" + "}", URI.encode_path(id.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"DELETE",
        path: local_var_path,
        operation: "AccountsApi.delete_accounts_account_external_accounts_id",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Deletes an existing person’s relationship to the account’s legal entity. Any person with a relationship for an account can be deleted through the API, except if the person is the <code>account_opener</code>. If your integration is using the <code>executive</code> parameter, you cannot delete the only verified <code>executive</code> on file.</p>
    # @required @param account [String?]
    # @required @param person [String?]
    # @return [Stripe::DeletedPerson]
    def delete_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil
    ) : Stripe::DeletedPerson
      data, _status_code, _headers = delete_accounts_account_persons_person_with_http_info(account: account, person: person)
      data
    end

    # &lt;p&gt;Deletes an existing person’s relationship to the account’s legal entity. Any person with a relationship for an account can be deleted through the API, except if the person is the &lt;code&gt;account_opener&lt;/code&gt;. If your integration is using the &lt;code&gt;executive&lt;/code&gt; parameter, you cannot delete the only verified &lt;code&gt;executive&lt;/code&gt; on file.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param person [String?]
    # @return [Tuple(Stripe::DeletedPerson, Integer, Hash)] Stripe::DeletedPerson, response status code and response headers
    def delete_accounts_account_persons_person_with_http_info(
      *,
      account : String? = nil,
      person : String? = nil
    ) : Tuple(Stripe::DeletedPerson, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_delete_accounts_account_persons_person(account: account, person: person)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#delete_accounts_account_persons_person\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::DeletedPerson.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Deletes an existing person’s relationship to the account’s legal entity. Any person with a relationship for an account can be deleted through the API, except if the person is the &lt;code&gt;account_opener&lt;/code&gt;. If your integration is using the &lt;code&gt;executive&lt;/code&gt; parameter, you cannot delete the only verified &lt;code&gt;executive&lt;/code&gt; on file.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param person [String?]
    # @return nil
    def delete_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_delete_accounts_account_persons_person(account: account, person: person).execute(&block)
    end

    DELETE_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ACCOUNT = 5000
    DELETE_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON  = 5000

    # @return Crest::Request
    def build_api_request_for_delete_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.delete_accounts_account_persons_person ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, DELETE_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"person\" is required and cannot be null") if person.nil?
        unless (_person = person).nil?
          OpenApi::PrimitiveValidator.validate_max_length("person", person.to_s.size, DELETE_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/persons/{person}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "person" + "}", URI.encode_path(person.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"DELETE",
        path: local_var_path,
        operation: "AccountsApi.delete_accounts_account_persons_person",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Returns a list of accounts connected to your platform via <a href=\"/docs/connect\">Connect</a>. If you’re not a platform, the list is empty.</p>
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param created [Stripe::GetAccountsCreatedParameter?] Only return connected accounts that were created during the given date interval.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::AccountList]
    def get_accounts(
      *,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      created : Stripe::GetAccountsCreatedParameter? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::AccountList
      data, _status_code, _headers = get_accounts_with_http_info(ending_before: ending_before, starting_after: starting_after, limit: limit, created: created, expand: expand)
      data
    end

    # &lt;p&gt;Returns a list of accounts connected to your platform via &lt;a href&#x3D;\&quot;/docs/connect\&quot;&gt;Connect&lt;/a&gt;. If you’re not a platform, the list is empty.&lt;/p&gt;
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param created [Stripe::GetAccountsCreatedParameter?] Only return connected accounts that were created during the given date interval.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::AccountList, Integer, Hash)] Stripe::AccountList, response status code and response headers
    def get_accounts_with_http_info(
      *,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      created : Stripe::GetAccountsCreatedParameter? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::AccountList, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts(ending_before: ending_before, starting_after: starting_after, limit: limit, created: created, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::AccountList.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Returns a list of accounts connected to your platform via &lt;a href&#x3D;\&quot;/docs/connect\&quot;&gt;Connect&lt;/a&gt;. If you’re not a platform, the list is empty.&lt;/p&gt;
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param created [Stripe::GetAccountsCreatedParameter?] Only return connected accounts that were created during the given date interval.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts(
      *,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      created : Stripe::GetAccountsCreatedParameter? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts(ending_before: ending_before, starting_after: starting_after, limit: limit, created: created, expand: expand).execute(&block)
    end

    # @return Crest::Request
    def build_api_request_for_get_accounts(
      *,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      created : Stripe::GetAccountsCreatedParameter? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts ..." }
      end

      if client_side_validation?
        unless (_created = created).nil?
          _created.validate if _created.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/accounts"

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["ending_before"] = ending_before.to_s if !ending_before.nil?
      query_params["starting_after"] = starting_after.to_s if !starting_after.nil?
      query_params["limit"] = limit.to_s if !limit.nil?
      query_params["created"] = created.to_s if !created.nil?
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Retrieves the details of an account.</p>
    # @required @param account [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::Account]
    def get_accounts_account(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::Account
      data, _status_code, _headers = get_accounts_account_with_http_info(account: account, expand: expand)
      data
    end

    # &lt;p&gt;Retrieves the details of an account.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::Account, Integer, Hash)] Stripe::Account, response status code and response headers
    def get_accounts_account_with_http_info(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::Account, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account(account: account, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Account.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Retrieves the details of an account.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account(account: account, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_get_accounts_account(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Returns a list of capabilities associated with the account. The capabilities are returned sorted by creation date, with the most recent capability appearing first.</p>
    # @required @param account [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::ListAccountCapability]
    def get_accounts_account_capabilities(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::ListAccountCapability
      data, _status_code, _headers = get_accounts_account_capabilities_with_http_info(account: account, expand: expand)
      data
    end

    # &lt;p&gt;Returns a list of capabilities associated with the account. The capabilities are returned sorted by creation date, with the most recent capability appearing first.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::ListAccountCapability, Integer, Hash)] Stripe::ListAccountCapability, response status code and response headers
    def get_accounts_account_capabilities_with_http_info(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::ListAccountCapability, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account_capabilities(account: account, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account_capabilities\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::ListAccountCapability.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Returns a list of capabilities associated with the account. The capabilities are returned sorted by creation date, with the most recent capability appearing first.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account_capabilities(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account_capabilities(account: account, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_CAPABILITIES_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_get_accounts_account_capabilities(
      *,
      account : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account_capabilities ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_CAPABILITIES_MAX_LENGTH_FOR_ACCOUNT)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/capabilities".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account_capabilities",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Retrieves information about the specified Account Capability.</p>
    # @required @param account [String?]
    # @required @param capability [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::Capability]
    def get_accounts_account_capabilities_capability(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::Capability
      data, _status_code, _headers = get_accounts_account_capabilities_capability_with_http_info(account: account, capability: capability, expand: expand)
      data
    end

    # &lt;p&gt;Retrieves information about the specified Account Capability.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param capability [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::Capability, Integer, Hash)] Stripe::Capability, response status code and response headers
    def get_accounts_account_capabilities_capability_with_http_info(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::Capability, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account_capabilities_capability(account: account, capability: capability, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account_capabilities_capability\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Capability.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Retrieves information about the specified Account Capability.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param capability [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account_capabilities_capability(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account_capabilities_capability(account: account, capability: capability, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_CAPABILITIES_CAPABILITY_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_get_accounts_account_capabilities_capability(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account_capabilities_capability ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_CAPABILITIES_CAPABILITY_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"capability\" is required and cannot be null") if capability.nil?
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/capabilities/{capability}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "capability" + "}", URI.encode_path(capability.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account_capabilities_capability",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>List external accounts for an account.</p>
    # @required @param account [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param object [String?] Filter external accounts according to a particular object type.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::ExternalAccountList]
    def get_accounts_account_external_accounts(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      object : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::ExternalAccountList
      data, _status_code, _headers = get_accounts_account_external_accounts_with_http_info(account: account, ending_before: ending_before, starting_after: starting_after, limit: limit, object: object, expand: expand)
      data
    end

    # &lt;p&gt;List external accounts for an account.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param object [String?] Filter external accounts according to a particular object type.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::ExternalAccountList, Integer, Hash)] Stripe::ExternalAccountList, response status code and response headers
    def get_accounts_account_external_accounts_with_http_info(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      object : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::ExternalAccountList, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account_external_accounts(account: account, ending_before: ending_before, starting_after: starting_after, limit: limit, object: object, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account_external_accounts\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::ExternalAccountList.from_json(body), status_code, headers)
    end

    # &lt;p&gt;List external accounts for an account.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param object [String?] Filter external accounts according to a particular object type.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account_external_accounts(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      object : String? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account_external_accounts(account: account, ending_before: ending_before, starting_after: starting_after, limit: limit, object: object, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_ACCOUNT  = 5000
    GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_OBJECT   = 5000
    GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_VALID_VALUES_FOR_OBJECT = String.static_array("bank_account", "card")

    # @return Crest::Request
    def build_api_request_for_get_accounts_account_external_accounts(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      object : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account_external_accounts ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_ACCOUNT)
        end

        unless (_object = object).nil?
          OpenApi::EnumValidator.validate("object", _object, GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_VALID_VALUES_FOR_OBJECT)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/external_accounts".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["ending_before"] = ending_before.to_s if !ending_before.nil?
      query_params["starting_after"] = starting_after.to_s if !starting_after.nil?
      query_params["limit"] = limit.to_s if !limit.nil?
      query_params["object"] = object.to_s if !object.nil?
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account_external_accounts",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Retrieve a specified external account for a given account.</p>
    # @required @param account [String?]
    # @required @param id [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::ExternalAccount]
    def get_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::ExternalAccount
      data, _status_code, _headers = get_accounts_account_external_accounts_id_with_http_info(account: account, id: id, expand: expand)
      data
    end

    # &lt;p&gt;Retrieve a specified external account for a given account.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param id [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::ExternalAccount, Integer, Hash)] Stripe::ExternalAccount, response status code and response headers
    def get_accounts_account_external_accounts_id_with_http_info(
      *,
      account : String? = nil,
      id : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::ExternalAccount, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account_external_accounts_id(account: account, id: id, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account_external_accounts_id\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::ExternalAccount.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Retrieve a specified external account for a given account.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param id [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account_external_accounts_id(account: account, id: id, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_get_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account_external_accounts_id ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/external_accounts/{id}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "id" + "}", URI.encode_path(id.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account_external_accounts_id",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Returns a list of people associated with the account’s legal entity. The people are returned sorted by creation date, with the most recent people appearing first.</p>
    # @required @param account [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param relationship [Stripe::AllPeopleRelationshipSpecs?] Filters on the list of people returned based on the person's relationship to the account's company.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::PersonList]
    def get_accounts_account_persons(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      relationship : Stripe::AllPeopleRelationshipSpecs? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::PersonList
      data, _status_code, _headers = get_accounts_account_persons_with_http_info(account: account, ending_before: ending_before, starting_after: starting_after, limit: limit, relationship: relationship, expand: expand)
      data
    end

    # &lt;p&gt;Returns a list of people associated with the account’s legal entity. The people are returned sorted by creation date, with the most recent people appearing first.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param relationship [Stripe::AllPeopleRelationshipSpecs?] Filters on the list of people returned based on the person's relationship to the account's company.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::PersonList, Integer, Hash)] Stripe::PersonList, response status code and response headers
    def get_accounts_account_persons_with_http_info(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      relationship : Stripe::AllPeopleRelationshipSpecs? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::PersonList, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account_persons(account: account, ending_before: ending_before, starting_after: starting_after, limit: limit, relationship: relationship, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account_persons\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::PersonList.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Returns a list of people associated with the account’s legal entity. The people are returned sorted by creation date, with the most recent people appearing first.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param ending_before [String?] A cursor for use in pagination. `ending_before` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, starting with `obj_bar`, your subsequent call can include `ending_before=obj_bar` in order to fetch the previous page of the list.
    # @optional @param starting_after [String?] A cursor for use in pagination. `starting_after` is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with `obj_foo`, your subsequent call can include `starting_after=obj_foo` in order to fetch the next page of the list.
    # @optional @param limit [Int32?] A limit on the number of objects to be returned. Limit can range between 1 and 100, and the default is 10.
    # @optional @param relationship [Stripe::AllPeopleRelationshipSpecs?] Filters on the list of people returned based on the person's relationship to the account's company.
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account_persons(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      relationship : Stripe::AllPeopleRelationshipSpecs? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account_persons(account: account, ending_before: ending_before, starting_after: starting_after, limit: limit, relationship: relationship, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ACCOUNT        = 5000
    GET_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ENDING_BEFORE  = 5000
    GET_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_STARTING_AFTER = 5000

    # @return Crest::Request
    def build_api_request_for_get_accounts_account_persons(
      *,
      account : String? = nil,
      ending_before : String? = nil,
      starting_after : String? = nil,
      limit : Int64? = nil,
      relationship : Stripe::AllPeopleRelationshipSpecs? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account_persons ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ACCOUNT)
        end
        unless (_ending_before = ending_before).nil?
          OpenApi::PrimitiveValidator.validate_max_length("ending_before", ending_before.to_s.size, GET_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ENDING_BEFORE)
        end
        unless (_starting_after = starting_after).nil?
          OpenApi::PrimitiveValidator.validate_max_length("starting_after", starting_after.to_s.size, GET_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_STARTING_AFTER)
        end

        unless (_relationship = relationship).nil?
          _relationship.validate if _relationship.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/persons".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["ending_before"] = ending_before.to_s if !ending_before.nil?
      query_params["starting_after"] = starting_after.to_s if !starting_after.nil?
      query_params["limit"] = limit.to_s if !limit.nil?
      query_params["relationship"] = relationship.to_s if !relationship.nil?
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account_persons",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Retrieves an existing person.</p>
    # @required @param account [String?]
    # @required @param person [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Stripe::Person]
    def get_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Stripe::Person
      data, _status_code, _headers = get_accounts_account_persons_person_with_http_info(account: account, person: person, expand: expand)
      data
    end

    # &lt;p&gt;Retrieves an existing person.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param person [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::Person, Integer, Hash)] Stripe::Person, response status code and response headers
    def get_accounts_account_persons_person_with_http_info(
      *,
      account : String? = nil,
      person : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Tuple(Stripe::Person, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_get_accounts_account_persons_person(account: account, person: person, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#get_accounts_account_persons_person\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Person.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Retrieves an existing person.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param person [String?]
    # @optional @param expand [Array(Array(String))?] Specifies which fields in the response should be expanded.
    # @return nil
    def get_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      expand : Array(Array(String))? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_get_accounts_account_persons_person(account: account, person: person, expand: expand).execute(&block)
    end

    GET_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ACCOUNT = 5000
    GET_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON  = 5000

    # @return Crest::Request
    def build_api_request_for_get_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      expand : Array(Array(String))? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.get_accounts_account_persons_person ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, GET_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"person\" is required and cannot be null") if person.nil?
        unless (_person = person).nil?
          OpenApi::PrimitiveValidator.validate_max_length("person", person.to_s.size, GET_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/persons/{person}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "person" + "}", URI.encode_path(person.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new
      query_params["expand"] = @api_client.build_collection_param(expand, "csv") if !expand.nil? && !expand.empty?

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = nil

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"GET",
        path: local_var_path,
        operation: "AccountsApi.get_accounts_account_persons_person",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>With <a href=\"/docs/connect\">Connect</a>, you can create Stripe accounts for your users. To do this, you’ll first need to <a href=\"https://dashboard.stripe.com/account/applications/settings\">register your platform</a>.</p>  <p>If you’ve already collected information for your connected accounts, you <a href=\"/docs/connect/best-practices#onboarding\">can prefill that information</a> when creating the account. Connect Onboarding won’t ask for the prefilled information during account onboarding. You can prefill any information on the account.</p>
    # @optional @param account_token [String?] An [account token](https://stripe.com/docs/api#create_account_token), used to securely provide details to the account.
    # @optional @param business_profile [Stripe::BusinessProfileSpecs?]
    # @optional @param business_type [String?] The business type. Once you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param capabilities [Stripe::CapabilitiesParam?]
    # @optional @param company [Stripe::CompanySpecs?]
    # @optional @param controller [Stripe::ControllerSpecs?]
    # @optional @param country [String?] The country in which the account holder resides, or in which the business is legally established. This should be an ISO 3166-1 alpha-2 country code. For example, if you are in the United States and the business for which you're creating an account is legally represented in Canada, you would use `CA` as the country for the account being created. Available countries include [Stripe's global markets](https://stripe.com/global) as well as countries where [cross-border payouts](https://stripe.com/docs/connect/cross-border-payouts) are supported.
    # @optional @param default_currency [String?] Three-letter ISO currency code representing the default currency for the account. This must be a currency that [Stripe supports in the account's country](https://docs.stripe.com/payouts).
    # @optional @param documents [Stripe::DocumentsSpecs?]
    # @optional @param email [String?] The email address of the account holder. This is only to make the account easier to identify to you. If [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts, Stripe doesn't email the account without your consent.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param external_account [String?] A card or bank account to attach to the account for receiving [payouts](/connect/bank-debit-card-payouts) (you won’t be able to use it for top-ups). You can provide either a token, like the ones returned by [Stripe.js](/js), or a dictionary, as documented in the `external_account` parameter for [bank account](/api#account_create_bank_account) creation. <br><br>By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the [bank account](/api#account_create_bank_account) or [card creation](/api#account_create_card) APIs. After you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param individual [Stripe::IndividualSpecs?]
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param settings [Stripe::SettingsSpecs?]
    # @optional @param tos_acceptance [Stripe::TosAcceptanceSpecs?]
    # @optional @param _type [String?] The type of Stripe account to create. May be one of `custom`, `express` or `standard`.
    # @return [Stripe::Account]
    def post_accounts(
      *,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      controller : Stripe::ControllerSpecs? = nil,
      country : String? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecs? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil,
      _type : String? = nil
    ) : Stripe::Account
      data, _status_code, _headers = post_accounts_with_http_info(account_token: account_token, business_profile: business_profile, business_type: business_type, capabilities: capabilities, company: company, controller: controller, country: country, default_currency: default_currency, documents: documents, email: email, expand: expand, external_account: external_account, individual: individual, metadata: metadata, settings: settings, tos_acceptance: tos_acceptance, _type: _type)
      data
    end

    # &lt;p&gt;With &lt;a href&#x3D;\&quot;/docs/connect\&quot;&gt;Connect&lt;/a&gt;, you can create Stripe accounts for your users. To do this, you’ll first need to &lt;a href&#x3D;\&quot;https://dashboard.stripe.com/account/applications/settings\&quot;&gt;register your platform&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;If you’ve already collected information for your connected accounts, you &lt;a href&#x3D;\&quot;/docs/connect/best-practices#onboarding\&quot;&gt;can prefill that information&lt;/a&gt; when creating the account. Connect Onboarding won’t ask for the prefilled information during account onboarding. You can prefill any information on the account.&lt;/p&gt;
    # @optional @param account_token [String?] An [account token](https://stripe.com/docs/api#create_account_token), used to securely provide details to the account.
    # @optional @param business_profile [Stripe::BusinessProfileSpecs?]
    # @optional @param business_type [String?] The business type. Once you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param capabilities [Stripe::CapabilitiesParam?]
    # @optional @param company [Stripe::CompanySpecs?]
    # @optional @param controller [Stripe::ControllerSpecs?]
    # @optional @param country [String?] The country in which the account holder resides, or in which the business is legally established. This should be an ISO 3166-1 alpha-2 country code. For example, if you are in the United States and the business for which you're creating an account is legally represented in Canada, you would use `CA` as the country for the account being created. Available countries include [Stripe's global markets](https://stripe.com/global) as well as countries where [cross-border payouts](https://stripe.com/docs/connect/cross-border-payouts) are supported.
    # @optional @param default_currency [String?] Three-letter ISO currency code representing the default currency for the account. This must be a currency that [Stripe supports in the account's country](https://docs.stripe.com/payouts).
    # @optional @param documents [Stripe::DocumentsSpecs?]
    # @optional @param email [String?] The email address of the account holder. This is only to make the account easier to identify to you. If [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts, Stripe doesn't email the account without your consent.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param external_account [String?] A card or bank account to attach to the account for receiving [payouts](/connect/bank-debit-card-payouts) (you won’t be able to use it for top-ups). You can provide either a token, like the ones returned by [Stripe.js](/js), or a dictionary, as documented in the `external_account` parameter for [bank account](/api#account_create_bank_account) creation. <br><br>By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the [bank account](/api#account_create_bank_account) or [card creation](/api#account_create_card) APIs. After you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param individual [Stripe::IndividualSpecs?]
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param settings [Stripe::SettingsSpecs?]
    # @optional @param tos_acceptance [Stripe::TosAcceptanceSpecs?]
    # @optional @param _type [String?] The type of Stripe account to create. May be one of `custom`, `express` or `standard`.
    # @return [Tuple(Stripe::Account, Integer, Hash)] Stripe::Account, response status code and response headers
    def post_accounts_with_http_info(
      *,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      controller : Stripe::ControllerSpecs? = nil,
      country : String? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecs? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil,
      _type : String? = nil
    ) : Tuple(Stripe::Account, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts(account_token: account_token, business_profile: business_profile, business_type: business_type, capabilities: capabilities, company: company, controller: controller, country: country, default_currency: default_currency, documents: documents, email: email, expand: expand, external_account: external_account, individual: individual, metadata: metadata, settings: settings, tos_acceptance: tos_acceptance, _type: _type)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Account.from_json(body), status_code, headers)
    end

    # &lt;p&gt;With &lt;a href&#x3D;\&quot;/docs/connect\&quot;&gt;Connect&lt;/a&gt;, you can create Stripe accounts for your users. To do this, you’ll first need to &lt;a href&#x3D;\&quot;https://dashboard.stripe.com/account/applications/settings\&quot;&gt;register your platform&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;If you’ve already collected information for your connected accounts, you &lt;a href&#x3D;\&quot;/docs/connect/best-practices#onboarding\&quot;&gt;can prefill that information&lt;/a&gt; when creating the account. Connect Onboarding won’t ask for the prefilled information during account onboarding. You can prefill any information on the account.&lt;/p&gt;
    # @optional @param account_token [String?] An [account token](https://stripe.com/docs/api#create_account_token), used to securely provide details to the account.
    # @optional @param business_profile [Stripe::BusinessProfileSpecs?]
    # @optional @param business_type [String?] The business type. Once you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param capabilities [Stripe::CapabilitiesParam?]
    # @optional @param company [Stripe::CompanySpecs?]
    # @optional @param controller [Stripe::ControllerSpecs?]
    # @optional @param country [String?] The country in which the account holder resides, or in which the business is legally established. This should be an ISO 3166-1 alpha-2 country code. For example, if you are in the United States and the business for which you're creating an account is legally represented in Canada, you would use `CA` as the country for the account being created. Available countries include [Stripe's global markets](https://stripe.com/global) as well as countries where [cross-border payouts](https://stripe.com/docs/connect/cross-border-payouts) are supported.
    # @optional @param default_currency [String?] Three-letter ISO currency code representing the default currency for the account. This must be a currency that [Stripe supports in the account's country](https://docs.stripe.com/payouts).
    # @optional @param documents [Stripe::DocumentsSpecs?]
    # @optional @param email [String?] The email address of the account holder. This is only to make the account easier to identify to you. If [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts, Stripe doesn't email the account without your consent.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param external_account [String?] A card or bank account to attach to the account for receiving [payouts](/connect/bank-debit-card-payouts) (you won’t be able to use it for top-ups). You can provide either a token, like the ones returned by [Stripe.js](/js), or a dictionary, as documented in the `external_account` parameter for [bank account](/api#account_create_bank_account) creation. <br><br>By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the [bank account](/api#account_create_bank_account) or [card creation](/api#account_create_card) APIs. After you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param individual [Stripe::IndividualSpecs?]
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param settings [Stripe::SettingsSpecs?]
    # @optional @param tos_acceptance [Stripe::TosAcceptanceSpecs?]
    # @optional @param _type [String?] The type of Stripe account to create. May be one of `custom`, `express` or `standard`.
    # @return nil
    def post_accounts(
      *,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      controller : Stripe::ControllerSpecs? = nil,
      country : String? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecs? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil,
      _type : String? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts(account_token: account_token, business_profile: business_profile, business_type: business_type, capabilities: capabilities, company: company, controller: controller, country: country, default_currency: default_currency, documents: documents, email: email, expand: expand, external_account: external_account, individual: individual, metadata: metadata, settings: settings, tos_acceptance: tos_acceptance, _type: _type).execute(&block)
    end

    POST_ACCOUNTS_MAX_LENGTH_FOR_ACCOUNT_TOKEN    = 5000
    POST_ACCOUNTS_VALID_VALUES_FOR_BUSINESS_TYPE  = String.static_array("company", "government_entity", "individual", "non_profit")
    POST_ACCOUNTS_MAX_LENGTH_FOR_COUNTRY          = 5000
    POST_ACCOUNTS_MAX_LENGTH_FOR_EXTERNAL_ACCOUNT = 5000
    POST_ACCOUNTS_VALID_VALUES_FOR__TYPE          = String.static_array("custom", "express", "standard")

    # @return Crest::Request
    def build_api_request_for_post_accounts(
      *,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      controller : Stripe::ControllerSpecs? = nil,
      country : String? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecs? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil,
      _type : String? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts ..." }
      end

      if client_side_validation?
        unless (_account_token = account_token).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account_token", account_token.to_s.size, POST_ACCOUNTS_MAX_LENGTH_FOR_ACCOUNT_TOKEN)
        end
        unless (_business_profile = business_profile).nil?
          _business_profile.validate if _business_profile.is_a?(OpenApi::Validatable)
        end
        unless (_business_type = business_type).nil?
          OpenApi::EnumValidator.validate("business_type", _business_type, POST_ACCOUNTS_VALID_VALUES_FOR_BUSINESS_TYPE)
        end
        unless (_capabilities = capabilities).nil?
          _capabilities.validate if _capabilities.is_a?(OpenApi::Validatable)
        end
        unless (_company = company).nil?
          _company.validate if _company.is_a?(OpenApi::Validatable)
        end
        unless (_controller = controller).nil?
          _controller.validate if _controller.is_a?(OpenApi::Validatable)
        end
        unless (_country = country).nil?
          OpenApi::PrimitiveValidator.validate_max_length("country", country.to_s.size, POST_ACCOUNTS_MAX_LENGTH_FOR_COUNTRY)
        end

        unless (_documents = documents).nil?
          _documents.validate if _documents.is_a?(OpenApi::Validatable)
        end

        unless (_external_account = external_account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("external_account", external_account.to_s.size, POST_ACCOUNTS_MAX_LENGTH_FOR_EXTERNAL_ACCOUNT)
        end
        unless (_individual = individual).nil?
          _individual.validate if _individual.is_a?(OpenApi::Validatable)
        end
        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
        unless (_settings = settings).nil?
          _settings.validate if _settings.is_a?(OpenApi::Validatable)
        end
        unless (_tos_acceptance = tos_acceptance).nil?
          _tos_acceptance.validate if _tos_acceptance.is_a?(OpenApi::Validatable)
        end
        unless (__type = _type).nil?
          OpenApi::EnumValidator.validate("_type", __type, POST_ACCOUNTS_VALID_VALUES_FOR__TYPE)
        end
      end

      # resource path
      local_var_path = "/v1/accounts"

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params << Tuple(String, Crest::ParamsValue).new("account_token", account_token.to_s) if !account_token.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(business_profile.to_json), "business_profile")) if !business_profile.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("business_type", business_type.to_s) if !business_type.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(capabilities.to_json), "capabilities")) if !capabilities.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(company.to_json), "company")) if !company.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(controller.to_json), "controller")) if !controller.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("country", country.to_s) if !country.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("default_currency", default_currency.to_s) if !default_currency.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(documents.to_json), "documents")) if !documents.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("email", email.to_s) if !email.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("external_account", external_account.to_s) if !external_account.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(individual.to_json), "individual")) if !individual.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(metadata.to_json), "metadata")) if !metadata.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(settings.to_json), "settings")) if !settings.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(tos_acceptance.to_json), "tos_acceptance")) if !tos_acceptance.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("type", _type.to_s) if !_type.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Updates a <a href=\"/connect/accounts\">connected account</a> by setting the values of the parameters passed. Any parameters not provided are left unchanged.</p>  <p>For accounts where <a href=\"/api/accounts/object#account_object-controller-requirement_collection\">controller.requirement_collection</a> is <code>application</code>, which includes Custom accounts, you can update any information on the account.</p>  <p>For accounts where <a href=\"/api/accounts/object#account_object-controller-requirement_collection\">controller.requirement_collection</a> is <code>stripe</code>, which includes Standard and Express accounts, you can update all information until you create an <a href=\"/api/account_links\">Account Link</a> or <a href=\"/api/account_sessions\">Account Session</a> to start Connect onboarding, after which some properties can no longer be updated.</p>  <p>To update your own account, use the <a href=\"https://dashboard.stripe.com/settings/account\">Dashboard</a>. Refer to our <a href=\"/docs/connect/updating-accounts\">Connect</a> documentation to learn more about updating accounts.</p>
    # @required @param account [String?]
    # @optional @param account_token [String?] An [account token](https://stripe.com/docs/api#create_account_token), used to securely provide details to the account.
    # @optional @param business_profile [Stripe::BusinessProfileSpecs?]
    # @optional @param business_type [String?] The business type. Once you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param capabilities [Stripe::CapabilitiesParam?]
    # @optional @param company [Stripe::CompanySpecs?]
    # @optional @param default_currency [String?] Three-letter ISO currency code representing the default currency for the account. This must be a currency that [Stripe supports in the account's country](https://docs.stripe.com/payouts).
    # @optional @param documents [Stripe::DocumentsSpecs?]
    # @optional @param email [String?] The email address of the account holder. This is only to make the account easier to identify to you. If [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts, Stripe doesn't email the account without your consent.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param external_account [String?] A card or bank account to attach to the account for receiving [payouts](/connect/bank-debit-card-payouts) (you won’t be able to use it for top-ups). You can provide either a token, like the ones returned by [Stripe.js](/js), or a dictionary, as documented in the `external_account` parameter for [bank account](/api#account_create_bank_account) creation. <br><br>By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the [bank account](/api#account_create_bank_account) or [card creation](/api#account_create_card) APIs. After you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param individual [Stripe::IndividualSpecs?]
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param settings [Stripe::SettingsSpecsUpdate?]
    # @optional @param tos_acceptance [Stripe::TosAcceptanceSpecs?]
    # @return [Stripe::Account]
    def post_accounts_account(
      *,
      account : String? = nil,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecsUpdate? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil
    ) : Stripe::Account
      data, _status_code, _headers = post_accounts_account_with_http_info(account: account, account_token: account_token, business_profile: business_profile, business_type: business_type, capabilities: capabilities, company: company, default_currency: default_currency, documents: documents, email: email, expand: expand, external_account: external_account, individual: individual, metadata: metadata, settings: settings, tos_acceptance: tos_acceptance)
      data
    end

    # &lt;p&gt;Updates a &lt;a href&#x3D;\&quot;/connect/accounts\&quot;&gt;connected account&lt;/a&gt; by setting the values of the parameters passed. Any parameters not provided are left unchanged.&lt;/p&gt;  &lt;p&gt;For accounts where &lt;a href&#x3D;\&quot;/api/accounts/object#account_object-controller-requirement_collection\&quot;&gt;controller.requirement_collection&lt;/a&gt; is &lt;code&gt;application&lt;/code&gt;, which includes Custom accounts, you can update any information on the account.&lt;/p&gt;  &lt;p&gt;For accounts where &lt;a href&#x3D;\&quot;/api/accounts/object#account_object-controller-requirement_collection\&quot;&gt;controller.requirement_collection&lt;/a&gt; is &lt;code&gt;stripe&lt;/code&gt;, which includes Standard and Express accounts, you can update all information until you create an &lt;a href&#x3D;\&quot;/api/account_links\&quot;&gt;Account Link&lt;/a&gt; or &lt;a href&#x3D;\&quot;/api/account_sessions\&quot;&gt;Account Session&lt;/a&gt; to start Connect onboarding, after which some properties can no longer be updated.&lt;/p&gt;  &lt;p&gt;To update your own account, use the &lt;a href&#x3D;\&quot;https://dashboard.stripe.com/settings/account\&quot;&gt;Dashboard&lt;/a&gt;. Refer to our &lt;a href&#x3D;\&quot;/docs/connect/updating-accounts\&quot;&gt;Connect&lt;/a&gt; documentation to learn more about updating accounts.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param account_token [String?] An [account token](https://stripe.com/docs/api#create_account_token), used to securely provide details to the account.
    # @optional @param business_profile [Stripe::BusinessProfileSpecs?]
    # @optional @param business_type [String?] The business type. Once you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param capabilities [Stripe::CapabilitiesParam?]
    # @optional @param company [Stripe::CompanySpecs?]
    # @optional @param default_currency [String?] Three-letter ISO currency code representing the default currency for the account. This must be a currency that [Stripe supports in the account's country](https://docs.stripe.com/payouts).
    # @optional @param documents [Stripe::DocumentsSpecs?]
    # @optional @param email [String?] The email address of the account holder. This is only to make the account easier to identify to you. If [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts, Stripe doesn't email the account without your consent.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param external_account [String?] A card or bank account to attach to the account for receiving [payouts](/connect/bank-debit-card-payouts) (you won’t be able to use it for top-ups). You can provide either a token, like the ones returned by [Stripe.js](/js), or a dictionary, as documented in the `external_account` parameter for [bank account](/api#account_create_bank_account) creation. <br><br>By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the [bank account](/api#account_create_bank_account) or [card creation](/api#account_create_card) APIs. After you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param individual [Stripe::IndividualSpecs?]
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param settings [Stripe::SettingsSpecsUpdate?]
    # @optional @param tos_acceptance [Stripe::TosAcceptanceSpecs?]
    # @return [Tuple(Stripe::Account, Integer, Hash)] Stripe::Account, response status code and response headers
    def post_accounts_account_with_http_info(
      *,
      account : String? = nil,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecsUpdate? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil
    ) : Tuple(Stripe::Account, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account(account: account, account_token: account_token, business_profile: business_profile, business_type: business_type, capabilities: capabilities, company: company, default_currency: default_currency, documents: documents, email: email, expand: expand, external_account: external_account, individual: individual, metadata: metadata, settings: settings, tos_acceptance: tos_acceptance)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Account.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Updates a &lt;a href&#x3D;\&quot;/connect/accounts\&quot;&gt;connected account&lt;/a&gt; by setting the values of the parameters passed. Any parameters not provided are left unchanged.&lt;/p&gt;  &lt;p&gt;For accounts where &lt;a href&#x3D;\&quot;/api/accounts/object#account_object-controller-requirement_collection\&quot;&gt;controller.requirement_collection&lt;/a&gt; is &lt;code&gt;application&lt;/code&gt;, which includes Custom accounts, you can update any information on the account.&lt;/p&gt;  &lt;p&gt;For accounts where &lt;a href&#x3D;\&quot;/api/accounts/object#account_object-controller-requirement_collection\&quot;&gt;controller.requirement_collection&lt;/a&gt; is &lt;code&gt;stripe&lt;/code&gt;, which includes Standard and Express accounts, you can update all information until you create an &lt;a href&#x3D;\&quot;/api/account_links\&quot;&gt;Account Link&lt;/a&gt; or &lt;a href&#x3D;\&quot;/api/account_sessions\&quot;&gt;Account Session&lt;/a&gt; to start Connect onboarding, after which some properties can no longer be updated.&lt;/p&gt;  &lt;p&gt;To update your own account, use the &lt;a href&#x3D;\&quot;https://dashboard.stripe.com/settings/account\&quot;&gt;Dashboard&lt;/a&gt;. Refer to our &lt;a href&#x3D;\&quot;/docs/connect/updating-accounts\&quot;&gt;Connect&lt;/a&gt; documentation to learn more about updating accounts.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param account_token [String?] An [account token](https://stripe.com/docs/api#create_account_token), used to securely provide details to the account.
    # @optional @param business_profile [Stripe::BusinessProfileSpecs?]
    # @optional @param business_type [String?] The business type. Once you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param capabilities [Stripe::CapabilitiesParam?]
    # @optional @param company [Stripe::CompanySpecs?]
    # @optional @param default_currency [String?] Three-letter ISO currency code representing the default currency for the account. This must be a currency that [Stripe supports in the account's country](https://docs.stripe.com/payouts).
    # @optional @param documents [Stripe::DocumentsSpecs?]
    # @optional @param email [String?] The email address of the account holder. This is only to make the account easier to identify to you. If [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts, Stripe doesn't email the account without your consent.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param external_account [String?] A card or bank account to attach to the account for receiving [payouts](/connect/bank-debit-card-payouts) (you won’t be able to use it for top-ups). You can provide either a token, like the ones returned by [Stripe.js](/js), or a dictionary, as documented in the `external_account` parameter for [bank account](/api#account_create_bank_account) creation. <br><br>By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the [bank account](/api#account_create_bank_account) or [card creation](/api#account_create_card) APIs. After you create an [Account Link](/api/account_links) or [Account Session](/api/account_sessions), this property can only be updated for accounts where [controller.requirement_collection](/api/accounts/object#account_object-controller-requirement_collection) is `application`, which includes Custom accounts.
    # @optional @param individual [Stripe::IndividualSpecs?]
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param settings [Stripe::SettingsSpecsUpdate?]
    # @optional @param tos_acceptance [Stripe::TosAcceptanceSpecs?]
    # @return nil
    def post_accounts_account(
      *,
      account : String? = nil,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecsUpdate? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account(account: account, account_token: account_token, business_profile: business_profile, business_type: business_type, capabilities: capabilities, company: company, default_currency: default_currency, documents: documents, email: email, expand: expand, external_account: external_account, individual: individual, metadata: metadata, settings: settings, tos_acceptance: tos_acceptance).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT          = 5000
    POST_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT_TOKEN    = 5000
    POST_ACCOUNTS_ACCOUNT_VALID_VALUES_FOR_BUSINESS_TYPE  = String.static_array("company", "government_entity", "individual", "non_profit")
    POST_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_EXTERNAL_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account(
      *,
      account : String? = nil,
      account_token : String? = nil,
      business_profile : Stripe::BusinessProfileSpecs? = nil,
      business_type : String? = nil,
      capabilities : Stripe::CapabilitiesParam? = nil,
      company : Stripe::CompanySpecs? = nil,
      default_currency : String? = nil,
      documents : Stripe::DocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      external_account : String? = nil,
      individual : Stripe::IndividualSpecs? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      settings : Stripe::SettingsSpecsUpdate? = nil,
      tos_acceptance : Stripe::TosAcceptanceSpecs? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT)
        end
        unless (_account_token = account_token).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account_token", account_token.to_s.size, POST_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_ACCOUNT_TOKEN)
        end
        unless (_business_profile = business_profile).nil?
          _business_profile.validate if _business_profile.is_a?(OpenApi::Validatable)
        end
        unless (_business_type = business_type).nil?
          OpenApi::EnumValidator.validate("business_type", _business_type, POST_ACCOUNTS_ACCOUNT_VALID_VALUES_FOR_BUSINESS_TYPE)
        end
        unless (_capabilities = capabilities).nil?
          _capabilities.validate if _capabilities.is_a?(OpenApi::Validatable)
        end
        unless (_company = company).nil?
          _company.validate if _company.is_a?(OpenApi::Validatable)
        end

        unless (_documents = documents).nil?
          _documents.validate if _documents.is_a?(OpenApi::Validatable)
        end

        unless (_external_account = external_account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("external_account", external_account.to_s.size, POST_ACCOUNTS_ACCOUNT_MAX_LENGTH_FOR_EXTERNAL_ACCOUNT)
        end
        unless (_individual = individual).nil?
          _individual.validate if _individual.is_a?(OpenApi::Validatable)
        end
        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
        unless (_settings = settings).nil?
          _settings.validate if _settings.is_a?(OpenApi::Validatable)
        end
        unless (_tos_acceptance = tos_acceptance).nil?
          _tos_acceptance.validate if _tos_acceptance.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params << Tuple(String, Crest::ParamsValue).new("account_token", account_token.to_s) if !account_token.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(business_profile.to_json), "business_profile")) if !business_profile.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("business_type", business_type.to_s) if !business_type.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(capabilities.to_json), "capabilities")) if !capabilities.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(company.to_json), "company")) if !company.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("default_currency", default_currency.to_s) if !default_currency.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(documents.to_json), "documents")) if !documents.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("email", email.to_s) if !email.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("external_account", external_account.to_s) if !external_account.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(individual.to_json), "individual")) if !individual.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(metadata.to_json), "metadata")) if !metadata.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(settings.to_json), "settings")) if !settings.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(tos_acceptance.to_json), "tos_acceptance")) if !tos_acceptance.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Updates an existing Account Capability. Request or remove a capability by updating its <code>requested</code> parameter.</p>
    # @required @param account [String?]
    # @required @param capability [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param requested [Bool?] To request a new capability for an account, pass true. There can be a delay before the requested capability becomes active. If the capability has any activation requirements, the response includes them in the `requirements` arrays.  If a capability isn't permanent, you can remove it from the account by passing false. Some capabilities are permanent after they've been requested. Attempting to remove a permanent capability returns an error.
    # @return [Stripe::Capability]
    def post_accounts_account_capabilities_capability(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(String)? = nil,
      requested : Bool? = nil
    ) : Stripe::Capability
      data, _status_code, _headers = post_accounts_account_capabilities_capability_with_http_info(account: account, capability: capability, expand: expand, requested: requested)
      data
    end

    # &lt;p&gt;Updates an existing Account Capability. Request or remove a capability by updating its &lt;code&gt;requested&lt;/code&gt; parameter.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param capability [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param requested [Bool?] To request a new capability for an account, pass true. There can be a delay before the requested capability becomes active. If the capability has any activation requirements, the response includes them in the `requirements` arrays.  If a capability isn't permanent, you can remove it from the account by passing false. Some capabilities are permanent after they've been requested. Attempting to remove a permanent capability returns an error.
    # @return [Tuple(Stripe::Capability, Integer, Hash)] Stripe::Capability, response status code and response headers
    def post_accounts_account_capabilities_capability_with_http_info(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(String)? = nil,
      requested : Bool? = nil
    ) : Tuple(Stripe::Capability, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_capabilities_capability(account: account, capability: capability, expand: expand, requested: requested)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_capabilities_capability\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Capability.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Updates an existing Account Capability. Request or remove a capability by updating its &lt;code&gt;requested&lt;/code&gt; parameter.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param capability [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param requested [Bool?] To request a new capability for an account, pass true. There can be a delay before the requested capability becomes active. If the capability has any activation requirements, the response includes them in the `requirements` arrays.  If a capability isn't permanent, you can remove it from the account by passing false. Some capabilities are permanent after they've been requested. Attempting to remove a permanent capability returns an error.
    # @return nil
    def post_accounts_account_capabilities_capability(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(String)? = nil,
      requested : Bool? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_capabilities_capability(account: account, capability: capability, expand: expand, requested: requested).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_CAPABILITIES_CAPABILITY_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_capabilities_capability(
      *,
      account : String? = nil,
      capability : String? = nil,
      expand : Array(String)? = nil,
      requested : Bool? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_capabilities_capability ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_CAPABILITIES_CAPABILITY_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"capability\" is required and cannot be null") if capability.nil?
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/capabilities/{capability}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "capability" + "}", URI.encode_path(capability.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("requested", requested.to_s) if !requested.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_capabilities_capability",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Create an external account for a given account.</p>
    # @required @param account [String?]
    # @required @param external_account [String?] Please refer to full [documentation](https://stripe.com/docs/api) instead.
    # @optional @param default_for_currency [Bool?] When set to true, or if this is the first external account added in this currency, this account becomes the default external account for its currency.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Hash(String, String)?]
    # @return [Stripe::ExternalAccount]
    def post_accounts_account_external_accounts(
      *,
      account : String? = nil,
      external_account : String? = nil,
      default_for_currency : Bool? = nil,
      expand : Array(String)? = nil,
      metadata : Hash(String, String)? = nil
    ) : Stripe::ExternalAccount
      data, _status_code, _headers = post_accounts_account_external_accounts_with_http_info(account: account, external_account: external_account, default_for_currency: default_for_currency, expand: expand, metadata: metadata)
      data
    end

    # &lt;p&gt;Create an external account for a given account.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param external_account [String?] Please refer to full [documentation](https://stripe.com/docs/api) instead.
    # @optional @param default_for_currency [Bool?] When set to true, or if this is the first external account added in this currency, this account becomes the default external account for its currency.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Hash(String, String)?]
    # @return [Tuple(Stripe::ExternalAccount, Integer, Hash)] Stripe::ExternalAccount, response status code and response headers
    def post_accounts_account_external_accounts_with_http_info(
      *,
      account : String? = nil,
      external_account : String? = nil,
      default_for_currency : Bool? = nil,
      expand : Array(String)? = nil,
      metadata : Hash(String, String)? = nil
    ) : Tuple(Stripe::ExternalAccount, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_external_accounts(account: account, external_account: external_account, default_for_currency: default_for_currency, expand: expand, metadata: metadata)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_external_accounts\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::ExternalAccount.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Create an external account for a given account.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param external_account [String?] Please refer to full [documentation](https://stripe.com/docs/api) instead.
    # @optional @param default_for_currency [Bool?] When set to true, or if this is the first external account added in this currency, this account becomes the default external account for its currency.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Hash(String, String)?]
    # @return nil
    def post_accounts_account_external_accounts(
      *,
      account : String? = nil,
      external_account : String? = nil,
      default_for_currency : Bool? = nil,
      expand : Array(String)? = nil,
      metadata : Hash(String, String)? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_external_accounts(account: account, external_account: external_account, default_for_currency: default_for_currency, expand: expand, metadata: metadata).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_ACCOUNT          = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_EXTERNAL_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_external_accounts(
      *,
      account : String? = nil,
      external_account : String? = nil,
      default_for_currency : Bool? = nil,
      expand : Array(String)? = nil,
      metadata : Hash(String, String)? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_external_accounts ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"external_account\" is required and cannot be null") if external_account.nil?
        unless (_external_account = external_account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("external_account", external_account.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_MAX_LENGTH_FOR_EXTERNAL_ACCOUNT)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/external_accounts".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params << Tuple(String, Crest::ParamsValue).new("default_for_currency", default_for_currency.to_s) if !default_for_currency.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("external_account", external_account.to_s) if !external_account.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(metadata.to_json), "metadata")) if !metadata.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_external_accounts",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Updates the metadata, account holder name, account holder type of a bank account belonging to a connected account and optionally sets it as the default for its currency. Other bank account details are not editable by design.</p>  <p>You can only update bank accounts when <a href=\"/api/accounts/object#account_object-controller-requirement_collection\">account.controller.requirement_collection</a> is <code>application</code>, which includes <a href=\"/connect/custom-accounts\">Custom accounts</a>.</p>  <p>You can re-enable a disabled bank account by performing an update call without providing any arguments or changes.</p>
    # @required @param account [String?]
    # @required @param id [String?]
    # @optional @param account_holder_name [String?] The name of the person or business that owns the bank account.
    # @optional @param account_holder_type [String?] The type of entity that holds the account. This can be either `individual` or `company`.
    # @optional @param account_type [String?] The bank account type. This can only be `checking` or `savings` in most countries. In Japan, this can only be `futsu` or `toza`.
    # @optional @param address_city [String?] City/District/Suburb/Town/Village.
    # @optional @param address_country [String?] Billing address country, if provided when creating card.
    # @optional @param address_line1 [String?] Address line 1 (Street address/PO Box/Company name).
    # @optional @param address_line2 [String?] Address line 2 (Apartment/Suite/Unit/Building).
    # @optional @param address_state [String?] State/County/Province/Region.
    # @optional @param address_zip [String?] ZIP or postal code.
    # @optional @param default_for_currency [Bool?] When set to true, this becomes the default external account for its currency.
    # @optional @param documents [Stripe::ExternalAccountDocumentsParam?]
    # @optional @param exp_month [String?] Two digit number representing the card’s expiration month.
    # @optional @param exp_year [String?] Four digit number representing the card’s expiration year.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param name [String?] Cardholder name.
    # @return [Stripe::ExternalAccount]
    def post_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      account_holder_name : String? = nil,
      account_holder_type : String? = nil,
      account_type : String? = nil,
      address_city : String? = nil,
      address_country : String? = nil,
      address_line1 : String? = nil,
      address_line2 : String? = nil,
      address_state : String? = nil,
      address_zip : String? = nil,
      default_for_currency : Bool? = nil,
      documents : Stripe::ExternalAccountDocumentsParam? = nil,
      exp_month : String? = nil,
      exp_year : String? = nil,
      expand : Array(String)? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      name : String? = nil
    ) : Stripe::ExternalAccount
      data, _status_code, _headers = post_accounts_account_external_accounts_id_with_http_info(account: account, id: id, account_holder_name: account_holder_name, account_holder_type: account_holder_type, account_type: account_type, address_city: address_city, address_country: address_country, address_line1: address_line1, address_line2: address_line2, address_state: address_state, address_zip: address_zip, default_for_currency: default_for_currency, documents: documents, exp_month: exp_month, exp_year: exp_year, expand: expand, metadata: metadata, name: name)
      data
    end

    # &lt;p&gt;Updates the metadata, account holder name, account holder type of a bank account belonging to a connected account and optionally sets it as the default for its currency. Other bank account details are not editable by design.&lt;/p&gt;  &lt;p&gt;You can only update bank accounts when &lt;a href&#x3D;\&quot;/api/accounts/object#account_object-controller-requirement_collection\&quot;&gt;account.controller.requirement_collection&lt;/a&gt; is &lt;code&gt;application&lt;/code&gt;, which includes &lt;a href&#x3D;\&quot;/connect/custom-accounts\&quot;&gt;Custom accounts&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;You can re-enable a disabled bank account by performing an update call without providing any arguments or changes.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param id [String?]
    # @optional @param account_holder_name [String?] The name of the person or business that owns the bank account.
    # @optional @param account_holder_type [String?] The type of entity that holds the account. This can be either `individual` or `company`.
    # @optional @param account_type [String?] The bank account type. This can only be `checking` or `savings` in most countries. In Japan, this can only be `futsu` or `toza`.
    # @optional @param address_city [String?] City/District/Suburb/Town/Village.
    # @optional @param address_country [String?] Billing address country, if provided when creating card.
    # @optional @param address_line1 [String?] Address line 1 (Street address/PO Box/Company name).
    # @optional @param address_line2 [String?] Address line 2 (Apartment/Suite/Unit/Building).
    # @optional @param address_state [String?] State/County/Province/Region.
    # @optional @param address_zip [String?] ZIP or postal code.
    # @optional @param default_for_currency [Bool?] When set to true, this becomes the default external account for its currency.
    # @optional @param documents [Stripe::ExternalAccountDocumentsParam?]
    # @optional @param exp_month [String?] Two digit number representing the card’s expiration month.
    # @optional @param exp_year [String?] Four digit number representing the card’s expiration year.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param name [String?] Cardholder name.
    # @return [Tuple(Stripe::ExternalAccount, Integer, Hash)] Stripe::ExternalAccount, response status code and response headers
    def post_accounts_account_external_accounts_id_with_http_info(
      *,
      account : String? = nil,
      id : String? = nil,
      account_holder_name : String? = nil,
      account_holder_type : String? = nil,
      account_type : String? = nil,
      address_city : String? = nil,
      address_country : String? = nil,
      address_line1 : String? = nil,
      address_line2 : String? = nil,
      address_state : String? = nil,
      address_zip : String? = nil,
      default_for_currency : Bool? = nil,
      documents : Stripe::ExternalAccountDocumentsParam? = nil,
      exp_month : String? = nil,
      exp_year : String? = nil,
      expand : Array(String)? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      name : String? = nil
    ) : Tuple(Stripe::ExternalAccount, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_external_accounts_id(account: account, id: id, account_holder_name: account_holder_name, account_holder_type: account_holder_type, account_type: account_type, address_city: address_city, address_country: address_country, address_line1: address_line1, address_line2: address_line2, address_state: address_state, address_zip: address_zip, default_for_currency: default_for_currency, documents: documents, exp_month: exp_month, exp_year: exp_year, expand: expand, metadata: metadata, name: name)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_external_accounts_id\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::ExternalAccount.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Updates the metadata, account holder name, account holder type of a bank account belonging to a connected account and optionally sets it as the default for its currency. Other bank account details are not editable by design.&lt;/p&gt;  &lt;p&gt;You can only update bank accounts when &lt;a href&#x3D;\&quot;/api/accounts/object#account_object-controller-requirement_collection\&quot;&gt;account.controller.requirement_collection&lt;/a&gt; is &lt;code&gt;application&lt;/code&gt;, which includes &lt;a href&#x3D;\&quot;/connect/custom-accounts\&quot;&gt;Custom accounts&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;You can re-enable a disabled bank account by performing an update call without providing any arguments or changes.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param id [String?]
    # @optional @param account_holder_name [String?] The name of the person or business that owns the bank account.
    # @optional @param account_holder_type [String?] The type of entity that holds the account. This can be either `individual` or `company`.
    # @optional @param account_type [String?] The bank account type. This can only be `checking` or `savings` in most countries. In Japan, this can only be `futsu` or `toza`.
    # @optional @param address_city [String?] City/District/Suburb/Town/Village.
    # @optional @param address_country [String?] Billing address country, if provided when creating card.
    # @optional @param address_line1 [String?] Address line 1 (Street address/PO Box/Company name).
    # @optional @param address_line2 [String?] Address line 2 (Apartment/Suite/Unit/Building).
    # @optional @param address_state [String?] State/County/Province/Region.
    # @optional @param address_zip [String?] ZIP or postal code.
    # @optional @param default_for_currency [Bool?] When set to true, this becomes the default external account for its currency.
    # @optional @param documents [Stripe::ExternalAccountDocumentsParam?]
    # @optional @param exp_month [String?] Two digit number representing the card’s expiration month.
    # @optional @param exp_year [String?] Four digit number representing the card’s expiration year.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param name [String?] Cardholder name.
    # @return nil
    def post_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      account_holder_name : String? = nil,
      account_holder_type : String? = nil,
      account_type : String? = nil,
      address_city : String? = nil,
      address_country : String? = nil,
      address_line1 : String? = nil,
      address_line2 : String? = nil,
      address_state : String? = nil,
      address_zip : String? = nil,
      default_for_currency : Bool? = nil,
      documents : Stripe::ExternalAccountDocumentsParam? = nil,
      exp_month : String? = nil,
      exp_year : String? = nil,
      expand : Array(String)? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      name : String? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_external_accounts_id(account: account, id: id, account_holder_name: account_holder_name, account_holder_type: account_holder_type, account_type: account_type, address_city: address_city, address_country: address_country, address_line1: address_line1, address_line2: address_line2, address_state: address_state, address_zip: address_zip, default_for_currency: default_for_currency, documents: documents, exp_month: exp_month, exp_year: exp_year, expand: expand, metadata: metadata, name: name).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT               = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT_HOLDER_NAME   = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT_HOLDER_TYPE   = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_VALID_VALUES_FOR_ACCOUNT_HOLDER_TYPE = String.static_array("", "company", "individual")
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT_TYPE          = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_VALID_VALUES_FOR_ACCOUNT_TYPE        = String.static_array("checking", "futsu", "savings", "toza")
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_CITY          = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_COUNTRY       = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_LINE1         = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_LINE2         = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_STATE         = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_ZIP           = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_EXP_MONTH             = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_EXP_YEAR              = 5000
    POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_NAME                  = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_external_accounts_id(
      *,
      account : String? = nil,
      id : String? = nil,
      account_holder_name : String? = nil,
      account_holder_type : String? = nil,
      account_type : String? = nil,
      address_city : String? = nil,
      address_country : String? = nil,
      address_line1 : String? = nil,
      address_line2 : String? = nil,
      address_state : String? = nil,
      address_zip : String? = nil,
      default_for_currency : Bool? = nil,
      documents : Stripe::ExternalAccountDocumentsParam? = nil,
      exp_month : String? = nil,
      exp_year : String? = nil,
      expand : Array(String)? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      name : String? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_external_accounts_id ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"id\" is required and cannot be null") if id.nil?

        unless (_account_holder_name = account_holder_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account_holder_name", account_holder_name.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ACCOUNT_HOLDER_NAME)
        end
        unless (_account_holder_type = account_holder_type).nil?
          OpenApi::EnumValidator.validate("account_holder_type", _account_holder_type, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_VALID_VALUES_FOR_ACCOUNT_HOLDER_TYPE)
        end
        unless (_account_type = account_type).nil?
          OpenApi::EnumValidator.validate("account_type", _account_type, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_VALID_VALUES_FOR_ACCOUNT_TYPE)
        end
        unless (_address_city = address_city).nil?
          OpenApi::PrimitiveValidator.validate_max_length("address_city", address_city.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_CITY)
        end
        unless (_address_country = address_country).nil?
          OpenApi::PrimitiveValidator.validate_max_length("address_country", address_country.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_COUNTRY)
        end
        unless (_address_line1 = address_line1).nil?
          OpenApi::PrimitiveValidator.validate_max_length("address_line1", address_line1.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_LINE1)
        end
        unless (_address_line2 = address_line2).nil?
          OpenApi::PrimitiveValidator.validate_max_length("address_line2", address_line2.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_LINE2)
        end
        unless (_address_state = address_state).nil?
          OpenApi::PrimitiveValidator.validate_max_length("address_state", address_state.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_STATE)
        end
        unless (_address_zip = address_zip).nil?
          OpenApi::PrimitiveValidator.validate_max_length("address_zip", address_zip.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_ADDRESS_ZIP)
        end

        unless (_documents = documents).nil?
          _documents.validate if _documents.is_a?(OpenApi::Validatable)
        end
        unless (_exp_month = exp_month).nil?
          OpenApi::PrimitiveValidator.validate_max_length("exp_month", exp_month.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_EXP_MONTH)
        end
        unless (_exp_year = exp_year).nil?
          OpenApi::PrimitiveValidator.validate_max_length("exp_year", exp_year.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_EXP_YEAR)
        end

        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
        unless (_name = name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("name", name.to_s.size, POST_ACCOUNTS_ACCOUNT_EXTERNAL_ACCOUNTS_ID_MAX_LENGTH_FOR_NAME)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/external_accounts/{id}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "id" + "}", URI.encode_path(id.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params << Tuple(String, Crest::ParamsValue).new("account_holder_name", account_holder_name.to_s) if !account_holder_name.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("account_holder_type", account_holder_type.to_s) if !account_holder_type.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("account_type", account_type.to_s) if !account_type.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("address_city", address_city.to_s) if !address_city.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("address_country", address_country.to_s) if !address_country.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("address_line1", address_line1.to_s) if !address_line1.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("address_line2", address_line2.to_s) if !address_line2.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("address_state", address_state.to_s) if !address_state.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("address_zip", address_zip.to_s) if !address_zip.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("default_for_currency", default_for_currency.to_s) if !default_for_currency.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(documents.to_json), "documents")) if !documents.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("exp_month", exp_month.to_s) if !exp_month.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("exp_year", exp_year.to_s) if !exp_year.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(metadata.to_json), "metadata")) if !metadata.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("name", name.to_s) if !name.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_external_accounts_id",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Creates a single-use login link for a connected account to access the Express Dashboard.</p>  <p><strong>You can only create login links for accounts that use the <a href=\"/connect/express-dashboard\">Express Dashboard</a> and are connected to your platform</strong>.</p>
    # @required @param account [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @return [Stripe::LoginLink]
    def post_accounts_account_login_links(
      *,
      account : String? = nil,
      expand : Array(String)? = nil
    ) : Stripe::LoginLink
      data, _status_code, _headers = post_accounts_account_login_links_with_http_info(account: account, expand: expand)
      data
    end

    # &lt;p&gt;Creates a single-use login link for a connected account to access the Express Dashboard.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;You can only create login links for accounts that use the &lt;a href&#x3D;\&quot;/connect/express-dashboard\&quot;&gt;Express Dashboard&lt;/a&gt; and are connected to your platform&lt;/strong&gt;.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::LoginLink, Integer, Hash)] Stripe::LoginLink, response status code and response headers
    def post_accounts_account_login_links_with_http_info(
      *,
      account : String? = nil,
      expand : Array(String)? = nil
    ) : Tuple(Stripe::LoginLink, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_login_links(account: account, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_login_links\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::LoginLink.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Creates a single-use login link for a connected account to access the Express Dashboard.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;You can only create login links for accounts that use the &lt;a href&#x3D;\&quot;/connect/express-dashboard\&quot;&gt;Express Dashboard&lt;/a&gt; and are connected to your platform&lt;/strong&gt;.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @return nil
    def post_accounts_account_login_links(
      *,
      account : String? = nil,
      expand : Array(String)? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_login_links(account: account, expand: expand).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_LOGIN_LINKS_MAX_LENGTH_FOR_ACCOUNT = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_login_links(
      *,
      account : String? = nil,
      expand : Array(String)? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_login_links ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_LOGIN_LINKS_MAX_LENGTH_FOR_ACCOUNT)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/login_links".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_login_links",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Creates a new person.</p>
    # @required @param account [String?]
    # @optional @param additional_tos_acceptances [Stripe::PersonAdditionalTosAcceptancesSpecs?]
    # @optional @param address [Stripe::LegalEntityAndKycAddressSpecs?]
    # @optional @param address_kana [Stripe::JapanAddressKanaSpecs?]
    # @optional @param address_kanji [Stripe::JapanAddressKanjiSpecs?]
    # @optional @param dob [Stripe::PostAccountsAccountPersonsRequestDob?]
    # @optional @param documents [Stripe::PersonDocumentsSpecs?]
    # @optional @param email [String?] The person's email address.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param first_name [String?] The person's first name.
    # @optional @param first_name_kana [String?] The Kana variation of the person's first name (Japan only).
    # @optional @param first_name_kanji [String?] The Kanji variation of the person's first name (Japan only).
    # @optional @param full_name_aliases [Stripe::PostAccountsAccountPersonsRequestFullNameAliases?]
    # @optional @param gender [String?] The person's gender (International regulations require either \\\"male\\\" or \\\"female\\\").
    # @optional @param id_number [String?] The person's ID number, as appropriate for their country. For example, a social security number in the U.S., social insurance number in Canada, etc. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param id_number_secondary [String?] The person's secondary ID number, as appropriate for their country, will be used for enhanced verification checks. In Thailand, this would be the laser code found on the back of an ID card. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param last_name [String?] The person's last name.
    # @optional @param last_name_kana [String?] The Kana variation of the person's last name (Japan only).
    # @optional @param last_name_kanji [String?] The Kanji variation of the person's last name (Japan only).
    # @optional @param maiden_name [String?] The person's maiden name.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param nationality [String?] The country where the person is a national. Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)), or \\\"XX\\\" if unavailable.
    # @optional @param person_token [String?] A [person token](https://docs.stripe.com/connect/account-tokens), used to securely provide details to the person.
    # @optional @param phone [String?] The person's phone number.
    # @optional @param political_exposure [String?] Indicates if the person or any of their representatives, family members, or other closely related persons, declares that they hold or have held an important public job or function, in any jurisdiction.
    # @optional @param registered_address [Stripe::AddressSpecs?]
    # @optional @param relationship [Stripe::RelationshipSpecs?]
    # @optional @param ssn_last_4 [String?] The last four digits of the person's Social Security number (U.S. only).
    # @optional @param verification [Stripe::PersonVerificationSpecs?]
    # @return [Stripe::Person]
    def post_accounts_account_persons(
      *,
      account : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil
    ) : Stripe::Person
      data, _status_code, _headers = post_accounts_account_persons_with_http_info(account: account, additional_tos_acceptances: additional_tos_acceptances, address: address, address_kana: address_kana, address_kanji: address_kanji, dob: dob, documents: documents, email: email, expand: expand, first_name: first_name, first_name_kana: first_name_kana, first_name_kanji: first_name_kanji, full_name_aliases: full_name_aliases, gender: gender, id_number: id_number, id_number_secondary: id_number_secondary, last_name: last_name, last_name_kana: last_name_kana, last_name_kanji: last_name_kanji, maiden_name: maiden_name, metadata: metadata, nationality: nationality, person_token: person_token, phone: phone, political_exposure: political_exposure, registered_address: registered_address, relationship: relationship, ssn_last_4: ssn_last_4, verification: verification)
      data
    end

    # &lt;p&gt;Creates a new person.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param additional_tos_acceptances [Stripe::PersonAdditionalTosAcceptancesSpecs?]
    # @optional @param address [Stripe::LegalEntityAndKycAddressSpecs?]
    # @optional @param address_kana [Stripe::JapanAddressKanaSpecs?]
    # @optional @param address_kanji [Stripe::JapanAddressKanjiSpecs?]
    # @optional @param dob [Stripe::PostAccountsAccountPersonsRequestDob?]
    # @optional @param documents [Stripe::PersonDocumentsSpecs?]
    # @optional @param email [String?] The person's email address.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param first_name [String?] The person's first name.
    # @optional @param first_name_kana [String?] The Kana variation of the person's first name (Japan only).
    # @optional @param first_name_kanji [String?] The Kanji variation of the person's first name (Japan only).
    # @optional @param full_name_aliases [Stripe::PostAccountsAccountPersonsRequestFullNameAliases?]
    # @optional @param gender [String?] The person's gender (International regulations require either \\\"male\\\" or \\\"female\\\").
    # @optional @param id_number [String?] The person's ID number, as appropriate for their country. For example, a social security number in the U.S., social insurance number in Canada, etc. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param id_number_secondary [String?] The person's secondary ID number, as appropriate for their country, will be used for enhanced verification checks. In Thailand, this would be the laser code found on the back of an ID card. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param last_name [String?] The person's last name.
    # @optional @param last_name_kana [String?] The Kana variation of the person's last name (Japan only).
    # @optional @param last_name_kanji [String?] The Kanji variation of the person's last name (Japan only).
    # @optional @param maiden_name [String?] The person's maiden name.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param nationality [String?] The country where the person is a national. Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)), or \\\"XX\\\" if unavailable.
    # @optional @param person_token [String?] A [person token](https://docs.stripe.com/connect/account-tokens), used to securely provide details to the person.
    # @optional @param phone [String?] The person's phone number.
    # @optional @param political_exposure [String?] Indicates if the person or any of their representatives, family members, or other closely related persons, declares that they hold or have held an important public job or function, in any jurisdiction.
    # @optional @param registered_address [Stripe::AddressSpecs?]
    # @optional @param relationship [Stripe::RelationshipSpecs?]
    # @optional @param ssn_last_4 [String?] The last four digits of the person's Social Security number (U.S. only).
    # @optional @param verification [Stripe::PersonVerificationSpecs?]
    # @return [Tuple(Stripe::Person, Integer, Hash)] Stripe::Person, response status code and response headers
    def post_accounts_account_persons_with_http_info(
      *,
      account : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil
    ) : Tuple(Stripe::Person, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_persons(account: account, additional_tos_acceptances: additional_tos_acceptances, address: address, address_kana: address_kana, address_kanji: address_kanji, dob: dob, documents: documents, email: email, expand: expand, first_name: first_name, first_name_kana: first_name_kana, first_name_kanji: first_name_kanji, full_name_aliases: full_name_aliases, gender: gender, id_number: id_number, id_number_secondary: id_number_secondary, last_name: last_name, last_name_kana: last_name_kana, last_name_kanji: last_name_kanji, maiden_name: maiden_name, metadata: metadata, nationality: nationality, person_token: person_token, phone: phone, political_exposure: political_exposure, registered_address: registered_address, relationship: relationship, ssn_last_4: ssn_last_4, verification: verification)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_persons\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Person.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Creates a new person.&lt;/p&gt;
    # @required @param account [String?]
    # @optional @param additional_tos_acceptances [Stripe::PersonAdditionalTosAcceptancesSpecs?]
    # @optional @param address [Stripe::LegalEntityAndKycAddressSpecs?]
    # @optional @param address_kana [Stripe::JapanAddressKanaSpecs?]
    # @optional @param address_kanji [Stripe::JapanAddressKanjiSpecs?]
    # @optional @param dob [Stripe::PostAccountsAccountPersonsRequestDob?]
    # @optional @param documents [Stripe::PersonDocumentsSpecs?]
    # @optional @param email [String?] The person's email address.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param first_name [String?] The person's first name.
    # @optional @param first_name_kana [String?] The Kana variation of the person's first name (Japan only).
    # @optional @param first_name_kanji [String?] The Kanji variation of the person's first name (Japan only).
    # @optional @param full_name_aliases [Stripe::PostAccountsAccountPersonsRequestFullNameAliases?]
    # @optional @param gender [String?] The person's gender (International regulations require either \\\"male\\\" or \\\"female\\\").
    # @optional @param id_number [String?] The person's ID number, as appropriate for their country. For example, a social security number in the U.S., social insurance number in Canada, etc. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param id_number_secondary [String?] The person's secondary ID number, as appropriate for their country, will be used for enhanced verification checks. In Thailand, this would be the laser code found on the back of an ID card. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param last_name [String?] The person's last name.
    # @optional @param last_name_kana [String?] The Kana variation of the person's last name (Japan only).
    # @optional @param last_name_kanji [String?] The Kanji variation of the person's last name (Japan only).
    # @optional @param maiden_name [String?] The person's maiden name.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param nationality [String?] The country where the person is a national. Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)), or \\\"XX\\\" if unavailable.
    # @optional @param person_token [String?] A [person token](https://docs.stripe.com/connect/account-tokens), used to securely provide details to the person.
    # @optional @param phone [String?] The person's phone number.
    # @optional @param political_exposure [String?] Indicates if the person or any of their representatives, family members, or other closely related persons, declares that they hold or have held an important public job or function, in any jurisdiction.
    # @optional @param registered_address [Stripe::AddressSpecs?]
    # @optional @param relationship [Stripe::RelationshipSpecs?]
    # @optional @param ssn_last_4 [String?] The last four digits of the person's Social Security number (U.S. only).
    # @optional @param verification [Stripe::PersonVerificationSpecs?]
    # @return nil
    def post_accounts_account_persons(
      *,
      account : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_persons(account: account, additional_tos_acceptances: additional_tos_acceptances, address: address, address_kana: address_kana, address_kanji: address_kanji, dob: dob, documents: documents, email: email, expand: expand, first_name: first_name, first_name_kana: first_name_kana, first_name_kanji: first_name_kanji, full_name_aliases: full_name_aliases, gender: gender, id_number: id_number, id_number_secondary: id_number_secondary, last_name: last_name, last_name_kana: last_name_kana, last_name_kanji: last_name_kanji, maiden_name: maiden_name, metadata: metadata, nationality: nationality, person_token: person_token, phone: phone, political_exposure: political_exposure, registered_address: registered_address, relationship: relationship, ssn_last_4: ssn_last_4, verification: verification).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ACCOUNT             = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_FIRST_NAME          = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_FIRST_NAME_KANA     = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_FIRST_NAME_KANJI    = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ID_NUMBER           = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ID_NUMBER_SECONDARY = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_LAST_NAME           = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_LAST_NAME_KANA      = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_LAST_NAME_KANJI     = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_MAIDEN_NAME         = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_NATIONALITY         = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_PERSON_TOKEN        = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_POLITICAL_EXPOSURE  = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_persons(
      *,
      account : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_persons ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ACCOUNT)
        end
        unless (_additional_tos_acceptances = additional_tos_acceptances).nil?
          _additional_tos_acceptances.validate if _additional_tos_acceptances.is_a?(OpenApi::Validatable)
        end
        unless (_address = address).nil?
          _address.validate if _address.is_a?(OpenApi::Validatable)
        end
        unless (_address_kana = address_kana).nil?
          _address_kana.validate if _address_kana.is_a?(OpenApi::Validatable)
        end
        unless (_address_kanji = address_kanji).nil?
          _address_kanji.validate if _address_kanji.is_a?(OpenApi::Validatable)
        end
        unless (_dob = dob).nil?
          _dob.validate if _dob.is_a?(OpenApi::Validatable)
        end
        unless (_documents = documents).nil?
          _documents.validate if _documents.is_a?(OpenApi::Validatable)
        end

        unless (_first_name = first_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("first_name", first_name.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_FIRST_NAME)
        end
        unless (_first_name_kana = first_name_kana).nil?
          OpenApi::PrimitiveValidator.validate_max_length("first_name_kana", first_name_kana.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_FIRST_NAME_KANA)
        end
        unless (_first_name_kanji = first_name_kanji).nil?
          OpenApi::PrimitiveValidator.validate_max_length("first_name_kanji", first_name_kanji.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_FIRST_NAME_KANJI)
        end
        unless (_full_name_aliases = full_name_aliases).nil?
          _full_name_aliases.validate if _full_name_aliases.is_a?(OpenApi::Validatable)
        end

        unless (_id_number = id_number).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id_number", id_number.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ID_NUMBER)
        end
        unless (_id_number_secondary = id_number_secondary).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id_number_secondary", id_number_secondary.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_ID_NUMBER_SECONDARY)
        end
        unless (_last_name = last_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("last_name", last_name.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_LAST_NAME)
        end
        unless (_last_name_kana = last_name_kana).nil?
          OpenApi::PrimitiveValidator.validate_max_length("last_name_kana", last_name_kana.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_LAST_NAME_KANA)
        end
        unless (_last_name_kanji = last_name_kanji).nil?
          OpenApi::PrimitiveValidator.validate_max_length("last_name_kanji", last_name_kanji.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_LAST_NAME_KANJI)
        end
        unless (_maiden_name = maiden_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("maiden_name", maiden_name.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_MAIDEN_NAME)
        end
        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
        unless (_nationality = nationality).nil?
          OpenApi::PrimitiveValidator.validate_max_length("nationality", nationality.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_NATIONALITY)
        end
        unless (_person_token = person_token).nil?
          OpenApi::PrimitiveValidator.validate_max_length("person_token", person_token.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_PERSON_TOKEN)
        end

        unless (_political_exposure = political_exposure).nil?
          OpenApi::PrimitiveValidator.validate_max_length("political_exposure", political_exposure.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_MAX_LENGTH_FOR_POLITICAL_EXPOSURE)
        end
        unless (_registered_address = registered_address).nil?
          _registered_address.validate if _registered_address.is_a?(OpenApi::Validatable)
        end
        unless (_relationship = relationship).nil?
          _relationship.validate if _relationship.is_a?(OpenApi::Validatable)
        end

        unless (_verification = verification).nil?
          _verification.validate if _verification.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/persons".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(additional_tos_acceptances.to_json), "additional_tos_acceptances")) if !additional_tos_acceptances.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(address.to_json), "address")) if !address.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(address_kana.to_json), "address_kana")) if !address_kana.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(address_kanji.to_json), "address_kanji")) if !address_kanji.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(dob.to_json), "dob")) if !dob.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(documents.to_json), "documents")) if !documents.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("email", email.to_s) if !email.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("first_name", first_name.to_s) if !first_name.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("first_name_kana", first_name_kana.to_s) if !first_name_kana.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("first_name_kanji", first_name_kanji.to_s) if !first_name_kanji.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(full_name_aliases.to_json), "full_name_aliases")) if !full_name_aliases.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("gender", gender.to_s) if !gender.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("id_number", id_number.to_s) if !id_number.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("id_number_secondary", id_number_secondary.to_s) if !id_number_secondary.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("last_name", last_name.to_s) if !last_name.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("last_name_kana", last_name_kana.to_s) if !last_name_kana.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("last_name_kanji", last_name_kanji.to_s) if !last_name_kanji.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("maiden_name", maiden_name.to_s) if !maiden_name.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(metadata.to_json), "metadata")) if !metadata.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("nationality", nationality.to_s) if !nationality.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("person_token", person_token.to_s) if !person_token.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("phone", phone.to_s) if !phone.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("political_exposure", political_exposure.to_s) if !political_exposure.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(registered_address.to_json), "registered_address")) if !registered_address.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(relationship.to_json), "relationship")) if !relationship.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("ssn_last_4", ssn_last_4.to_s) if !ssn_last_4.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(verification.to_json), "verification")) if !verification.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_persons",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>Updates an existing person.</p>
    # @required @param account [String?]
    # @required @param person [String?]
    # @optional @param additional_tos_acceptances [Stripe::PersonAdditionalTosAcceptancesSpecs?]
    # @optional @param address [Stripe::LegalEntityAndKycAddressSpecs?]
    # @optional @param address_kana [Stripe::JapanAddressKanaSpecs?]
    # @optional @param address_kanji [Stripe::JapanAddressKanjiSpecs?]
    # @optional @param dob [Stripe::PostAccountsAccountPersonsRequestDob?]
    # @optional @param documents [Stripe::PersonDocumentsSpecs?]
    # @optional @param email [String?] The person's email address.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param first_name [String?] The person's first name.
    # @optional @param first_name_kana [String?] The Kana variation of the person's first name (Japan only).
    # @optional @param first_name_kanji [String?] The Kanji variation of the person's first name (Japan only).
    # @optional @param full_name_aliases [Stripe::PostAccountsAccountPersonsRequestFullNameAliases?]
    # @optional @param gender [String?] The person's gender (International regulations require either \\\"male\\\" or \\\"female\\\").
    # @optional @param id_number [String?] The person's ID number, as appropriate for their country. For example, a social security number in the U.S., social insurance number in Canada, etc. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param id_number_secondary [String?] The person's secondary ID number, as appropriate for their country, will be used for enhanced verification checks. In Thailand, this would be the laser code found on the back of an ID card. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param last_name [String?] The person's last name.
    # @optional @param last_name_kana [String?] The Kana variation of the person's last name (Japan only).
    # @optional @param last_name_kanji [String?] The Kanji variation of the person's last name (Japan only).
    # @optional @param maiden_name [String?] The person's maiden name.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param nationality [String?] The country where the person is a national. Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)), or \\\"XX\\\" if unavailable.
    # @optional @param person_token [String?] A [person token](https://docs.stripe.com/connect/account-tokens), used to securely provide details to the person.
    # @optional @param phone [String?] The person's phone number.
    # @optional @param political_exposure [String?] Indicates if the person or any of their representatives, family members, or other closely related persons, declares that they hold or have held an important public job or function, in any jurisdiction.
    # @optional @param registered_address [Stripe::AddressSpecs?]
    # @optional @param relationship [Stripe::RelationshipSpecs?]
    # @optional @param ssn_last_4 [String?] The last four digits of the person's Social Security number (U.S. only).
    # @optional @param verification [Stripe::PersonVerificationSpecs?]
    # @return [Stripe::Person]
    def post_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil
    ) : Stripe::Person
      data, _status_code, _headers = post_accounts_account_persons_person_with_http_info(account: account, person: person, additional_tos_acceptances: additional_tos_acceptances, address: address, address_kana: address_kana, address_kanji: address_kanji, dob: dob, documents: documents, email: email, expand: expand, first_name: first_name, first_name_kana: first_name_kana, first_name_kanji: first_name_kanji, full_name_aliases: full_name_aliases, gender: gender, id_number: id_number, id_number_secondary: id_number_secondary, last_name: last_name, last_name_kana: last_name_kana, last_name_kanji: last_name_kanji, maiden_name: maiden_name, metadata: metadata, nationality: nationality, person_token: person_token, phone: phone, political_exposure: political_exposure, registered_address: registered_address, relationship: relationship, ssn_last_4: ssn_last_4, verification: verification)
      data
    end

    # &lt;p&gt;Updates an existing person.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param person [String?]
    # @optional @param additional_tos_acceptances [Stripe::PersonAdditionalTosAcceptancesSpecs?]
    # @optional @param address [Stripe::LegalEntityAndKycAddressSpecs?]
    # @optional @param address_kana [Stripe::JapanAddressKanaSpecs?]
    # @optional @param address_kanji [Stripe::JapanAddressKanjiSpecs?]
    # @optional @param dob [Stripe::PostAccountsAccountPersonsRequestDob?]
    # @optional @param documents [Stripe::PersonDocumentsSpecs?]
    # @optional @param email [String?] The person's email address.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param first_name [String?] The person's first name.
    # @optional @param first_name_kana [String?] The Kana variation of the person's first name (Japan only).
    # @optional @param first_name_kanji [String?] The Kanji variation of the person's first name (Japan only).
    # @optional @param full_name_aliases [Stripe::PostAccountsAccountPersonsRequestFullNameAliases?]
    # @optional @param gender [String?] The person's gender (International regulations require either \\\"male\\\" or \\\"female\\\").
    # @optional @param id_number [String?] The person's ID number, as appropriate for their country. For example, a social security number in the U.S., social insurance number in Canada, etc. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param id_number_secondary [String?] The person's secondary ID number, as appropriate for their country, will be used for enhanced verification checks. In Thailand, this would be the laser code found on the back of an ID card. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param last_name [String?] The person's last name.
    # @optional @param last_name_kana [String?] The Kana variation of the person's last name (Japan only).
    # @optional @param last_name_kanji [String?] The Kanji variation of the person's last name (Japan only).
    # @optional @param maiden_name [String?] The person's maiden name.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param nationality [String?] The country where the person is a national. Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)), or \\\"XX\\\" if unavailable.
    # @optional @param person_token [String?] A [person token](https://docs.stripe.com/connect/account-tokens), used to securely provide details to the person.
    # @optional @param phone [String?] The person's phone number.
    # @optional @param political_exposure [String?] Indicates if the person or any of their representatives, family members, or other closely related persons, declares that they hold or have held an important public job or function, in any jurisdiction.
    # @optional @param registered_address [Stripe::AddressSpecs?]
    # @optional @param relationship [Stripe::RelationshipSpecs?]
    # @optional @param ssn_last_4 [String?] The last four digits of the person's Social Security number (U.S. only).
    # @optional @param verification [Stripe::PersonVerificationSpecs?]
    # @return [Tuple(Stripe::Person, Integer, Hash)] Stripe::Person, response status code and response headers
    def post_accounts_account_persons_person_with_http_info(
      *,
      account : String? = nil,
      person : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil
    ) : Tuple(Stripe::Person, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_persons_person(account: account, person: person, additional_tos_acceptances: additional_tos_acceptances, address: address, address_kana: address_kana, address_kanji: address_kanji, dob: dob, documents: documents, email: email, expand: expand, first_name: first_name, first_name_kana: first_name_kana, first_name_kanji: first_name_kanji, full_name_aliases: full_name_aliases, gender: gender, id_number: id_number, id_number_secondary: id_number_secondary, last_name: last_name, last_name_kana: last_name_kana, last_name_kanji: last_name_kanji, maiden_name: maiden_name, metadata: metadata, nationality: nationality, person_token: person_token, phone: phone, political_exposure: political_exposure, registered_address: registered_address, relationship: relationship, ssn_last_4: ssn_last_4, verification: verification)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_persons_person\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Person.from_json(body), status_code, headers)
    end

    # &lt;p&gt;Updates an existing person.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param person [String?]
    # @optional @param additional_tos_acceptances [Stripe::PersonAdditionalTosAcceptancesSpecs?]
    # @optional @param address [Stripe::LegalEntityAndKycAddressSpecs?]
    # @optional @param address_kana [Stripe::JapanAddressKanaSpecs?]
    # @optional @param address_kanji [Stripe::JapanAddressKanjiSpecs?]
    # @optional @param dob [Stripe::PostAccountsAccountPersonsRequestDob?]
    # @optional @param documents [Stripe::PersonDocumentsSpecs?]
    # @optional @param email [String?] The person's email address.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @optional @param first_name [String?] The person's first name.
    # @optional @param first_name_kana [String?] The Kana variation of the person's first name (Japan only).
    # @optional @param first_name_kanji [String?] The Kanji variation of the person's first name (Japan only).
    # @optional @param full_name_aliases [Stripe::PostAccountsAccountPersonsRequestFullNameAliases?]
    # @optional @param gender [String?] The person's gender (International regulations require either \\\"male\\\" or \\\"female\\\").
    # @optional @param id_number [String?] The person's ID number, as appropriate for their country. For example, a social security number in the U.S., social insurance number in Canada, etc. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param id_number_secondary [String?] The person's secondary ID number, as appropriate for their country, will be used for enhanced verification checks. In Thailand, this would be the laser code found on the back of an ID card. Instead of the number itself, you can also provide a [PII token provided by Stripe.js](https://docs.stripe.com/js/tokens/create_token?type=pii).
    # @optional @param last_name [String?] The person's last name.
    # @optional @param last_name_kana [String?] The Kana variation of the person's last name (Japan only).
    # @optional @param last_name_kanji [String?] The Kanji variation of the person's last name (Japan only).
    # @optional @param maiden_name [String?] The person's maiden name.
    # @optional @param metadata [Stripe::PostAccountsRequestMetadata?]
    # @optional @param nationality [String?] The country where the person is a national. Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)), or \\\"XX\\\" if unavailable.
    # @optional @param person_token [String?] A [person token](https://docs.stripe.com/connect/account-tokens), used to securely provide details to the person.
    # @optional @param phone [String?] The person's phone number.
    # @optional @param political_exposure [String?] Indicates if the person or any of their representatives, family members, or other closely related persons, declares that they hold or have held an important public job or function, in any jurisdiction.
    # @optional @param registered_address [Stripe::AddressSpecs?]
    # @optional @param relationship [Stripe::RelationshipSpecs?]
    # @optional @param ssn_last_4 [String?] The last four digits of the person's Social Security number (U.S. only).
    # @optional @param verification [Stripe::PersonVerificationSpecs?]
    # @return nil
    def post_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_persons_person(account: account, person: person, additional_tos_acceptances: additional_tos_acceptances, address: address, address_kana: address_kana, address_kanji: address_kanji, dob: dob, documents: documents, email: email, expand: expand, first_name: first_name, first_name_kana: first_name_kana, first_name_kanji: first_name_kanji, full_name_aliases: full_name_aliases, gender: gender, id_number: id_number, id_number_secondary: id_number_secondary, last_name: last_name, last_name_kana: last_name_kana, last_name_kanji: last_name_kanji, maiden_name: maiden_name, metadata: metadata, nationality: nationality, person_token: person_token, phone: phone, political_exposure: political_exposure, registered_address: registered_address, relationship: relationship, ssn_last_4: ssn_last_4, verification: verification).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ACCOUNT             = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON              = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_FIRST_NAME          = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_FIRST_NAME_KANA     = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_FIRST_NAME_KANJI    = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ID_NUMBER           = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ID_NUMBER_SECONDARY = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_LAST_NAME           = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_LAST_NAME_KANA      = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_LAST_NAME_KANJI     = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_MAIDEN_NAME         = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_NATIONALITY         = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON_TOKEN        = 5000
    POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_POLITICAL_EXPOSURE  = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_persons_person(
      *,
      account : String? = nil,
      person : String? = nil,
      additional_tos_acceptances : Stripe::PersonAdditionalTosAcceptancesSpecs? = nil,
      address : Stripe::LegalEntityAndKycAddressSpecs? = nil,
      address_kana : Stripe::JapanAddressKanaSpecs? = nil,
      address_kanji : Stripe::JapanAddressKanjiSpecs? = nil,
      dob : Stripe::PostAccountsAccountPersonsRequestDob? = nil,
      documents : Stripe::PersonDocumentsSpecs? = nil,
      email : String? = nil,
      expand : Array(String)? = nil,
      first_name : String? = nil,
      first_name_kana : String? = nil,
      first_name_kanji : String? = nil,
      full_name_aliases : Stripe::PostAccountsAccountPersonsRequestFullNameAliases? = nil,
      gender : String? = nil,
      id_number : String? = nil,
      id_number_secondary : String? = nil,
      last_name : String? = nil,
      last_name_kana : String? = nil,
      last_name_kanji : String? = nil,
      maiden_name : String? = nil,
      metadata : Stripe::PostAccountsRequestMetadata? = nil,
      nationality : String? = nil,
      person_token : String? = nil,
      phone : String? = nil,
      political_exposure : String? = nil,
      registered_address : Stripe::AddressSpecs? = nil,
      relationship : Stripe::RelationshipSpecs? = nil,
      ssn_last_4 : String? = nil,
      verification : Stripe::PersonVerificationSpecs? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_persons_person ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"person\" is required and cannot be null") if person.nil?
        unless (_person = person).nil?
          OpenApi::PrimitiveValidator.validate_max_length("person", person.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON)
        end
        unless (_additional_tos_acceptances = additional_tos_acceptances).nil?
          _additional_tos_acceptances.validate if _additional_tos_acceptances.is_a?(OpenApi::Validatable)
        end
        unless (_address = address).nil?
          _address.validate if _address.is_a?(OpenApi::Validatable)
        end
        unless (_address_kana = address_kana).nil?
          _address_kana.validate if _address_kana.is_a?(OpenApi::Validatable)
        end
        unless (_address_kanji = address_kanji).nil?
          _address_kanji.validate if _address_kanji.is_a?(OpenApi::Validatable)
        end
        unless (_dob = dob).nil?
          _dob.validate if _dob.is_a?(OpenApi::Validatable)
        end
        unless (_documents = documents).nil?
          _documents.validate if _documents.is_a?(OpenApi::Validatable)
        end

        unless (_first_name = first_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("first_name", first_name.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_FIRST_NAME)
        end
        unless (_first_name_kana = first_name_kana).nil?
          OpenApi::PrimitiveValidator.validate_max_length("first_name_kana", first_name_kana.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_FIRST_NAME_KANA)
        end
        unless (_first_name_kanji = first_name_kanji).nil?
          OpenApi::PrimitiveValidator.validate_max_length("first_name_kanji", first_name_kanji.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_FIRST_NAME_KANJI)
        end
        unless (_full_name_aliases = full_name_aliases).nil?
          _full_name_aliases.validate if _full_name_aliases.is_a?(OpenApi::Validatable)
        end

        unless (_id_number = id_number).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id_number", id_number.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ID_NUMBER)
        end
        unless (_id_number_secondary = id_number_secondary).nil?
          OpenApi::PrimitiveValidator.validate_max_length("id_number_secondary", id_number_secondary.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_ID_NUMBER_SECONDARY)
        end
        unless (_last_name = last_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("last_name", last_name.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_LAST_NAME)
        end
        unless (_last_name_kana = last_name_kana).nil?
          OpenApi::PrimitiveValidator.validate_max_length("last_name_kana", last_name_kana.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_LAST_NAME_KANA)
        end
        unless (_last_name_kanji = last_name_kanji).nil?
          OpenApi::PrimitiveValidator.validate_max_length("last_name_kanji", last_name_kanji.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_LAST_NAME_KANJI)
        end
        unless (_maiden_name = maiden_name).nil?
          OpenApi::PrimitiveValidator.validate_max_length("maiden_name", maiden_name.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_MAIDEN_NAME)
        end
        unless (_metadata = metadata).nil?
          _metadata.validate if _metadata.is_a?(OpenApi::Validatable)
        end
        unless (_nationality = nationality).nil?
          OpenApi::PrimitiveValidator.validate_max_length("nationality", nationality.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_NATIONALITY)
        end
        unless (_person_token = person_token).nil?
          OpenApi::PrimitiveValidator.validate_max_length("person_token", person_token.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_PERSON_TOKEN)
        end

        unless (_political_exposure = political_exposure).nil?
          OpenApi::PrimitiveValidator.validate_max_length("political_exposure", political_exposure.to_s.size, POST_ACCOUNTS_ACCOUNT_PERSONS_PERSON_MAX_LENGTH_FOR_POLITICAL_EXPOSURE)
        end
        unless (_registered_address = registered_address).nil?
          _registered_address.validate if _registered_address.is_a?(OpenApi::Validatable)
        end
        unless (_relationship = relationship).nil?
          _relationship.validate if _relationship.is_a?(OpenApi::Validatable)
        end

        unless (_verification = verification).nil?
          _verification.validate if _verification.is_a?(OpenApi::Validatable)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/persons/{person}".sub("{" + "account" + "}", URI.encode_path(account.to_s)).sub("{" + "person" + "}", URI.encode_path(person.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(additional_tos_acceptances.to_json), "additional_tos_acceptances")) if !additional_tos_acceptances.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(address.to_json), "address")) if !address.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(address_kana.to_json), "address_kana")) if !address_kana.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(address_kanji.to_json), "address_kanji")) if !address_kanji.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(dob.to_json), "dob")) if !dob.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(documents.to_json), "documents")) if !documents.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("email", email.to_s) if !email.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("first_name", first_name.to_s) if !first_name.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("first_name_kana", first_name_kana.to_s) if !first_name_kana.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("first_name_kanji", first_name_kanji.to_s) if !first_name_kanji.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(full_name_aliases.to_json), "full_name_aliases")) if !full_name_aliases.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("gender", gender.to_s) if !gender.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("id_number", id_number.to_s) if !id_number.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("id_number_secondary", id_number_secondary.to_s) if !id_number_secondary.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("last_name", last_name.to_s) if !last_name.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("last_name_kana", last_name_kana.to_s) if !last_name_kana.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("last_name_kanji", last_name_kanji.to_s) if !last_name_kanji.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("maiden_name", maiden_name.to_s) if !maiden_name.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(metadata.to_json), "metadata")) if !metadata.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("nationality", nationality.to_s) if !nationality.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("person_token", person_token.to_s) if !person_token.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("phone", phone.to_s) if !phone.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("political_exposure", political_exposure.to_s) if !political_exposure.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(registered_address.to_json), "registered_address")) if !registered_address.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(relationship.to_json), "relationship")) if !relationship.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("ssn_last_4", ssn_last_4.to_s) if !ssn_last_4.nil?
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(verification.to_json), "verification")) if !verification.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_persons_person",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end

    # <p>With <a href=\"/connect\">Connect</a>, you can reject accounts that you have flagged as suspicious.</p>  <p>Only accounts where your platform is liable for negative account balances, which includes Custom and Express accounts, can be rejected. Test-mode accounts can be rejected at any time. Live-mode accounts can only be rejected after all balances are zero.</p>
    # @required @param account [String?]
    # @required @param reason [String?] The reason for rejecting the account. Can be `fraud`, `terms_of_service`, or `other`.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @return [Stripe::Account]
    def post_accounts_account_reject(
      *,
      account : String? = nil,
      reason : String? = nil,
      expand : Array(String)? = nil
    ) : Stripe::Account
      data, _status_code, _headers = post_accounts_account_reject_with_http_info(account: account, reason: reason, expand: expand)
      data
    end

    # &lt;p&gt;With &lt;a href&#x3D;\&quot;/connect\&quot;&gt;Connect&lt;/a&gt;, you can reject accounts that you have flagged as suspicious.&lt;/p&gt;  &lt;p&gt;Only accounts where your platform is liable for negative account balances, which includes Custom and Express accounts, can be rejected. Test-mode accounts can be rejected at any time. Live-mode accounts can only be rejected after all balances are zero.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param reason [String?] The reason for rejecting the account. Can be `fraud`, `terms_of_service`, or `other`.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @return [Tuple(Stripe::Account, Integer, Hash)] Stripe::Account, response status code and response headers
    def post_accounts_account_reject_with_http_info(
      *,
      account : String? = nil,
      reason : String? = nil,
      expand : Array(String)? = nil
    ) : Tuple(Stripe::Account, Int32, Hash(String, Array(String) | String))
      request = build_api_request_for_post_accounts_account_reject(account: account, reason: reason, expand: expand)

      body, status_code, headers = @api_client.execute_api_request(request)

      if debugging?
        Log.debug { "API called: AccountsApi#post_accounts_account_reject\nBody: #{body.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}" }
      end

      Tuple.new(Stripe::Account.from_json(body), status_code, headers)
    end

    # &lt;p&gt;With &lt;a href&#x3D;\&quot;/connect\&quot;&gt;Connect&lt;/a&gt;, you can reject accounts that you have flagged as suspicious.&lt;/p&gt;  &lt;p&gt;Only accounts where your platform is liable for negative account balances, which includes Custom and Express accounts, can be rejected. Test-mode accounts can be rejected at any time. Live-mode accounts can only be rejected after all balances are zero.&lt;/p&gt;
    # @required @param account [String?]
    # @required @param reason [String?] The reason for rejecting the account. Can be `fraud`, `terms_of_service`, or `other`.
    # @optional @param expand [Array(String)?] Specifies which fields in the response should be expanded.
    # @return nil
    def post_accounts_account_reject(
      *,
      account : String? = nil,
      reason : String? = nil,
      expand : Array(String)? = nil,
      &block : Crest::Response ->
    ) : Nil
      build_api_request_for_post_accounts_account_reject(account: account, reason: reason, expand: expand).execute(&block)
    end

    POST_ACCOUNTS_ACCOUNT_REJECT_MAX_LENGTH_FOR_ACCOUNT = 5000
    POST_ACCOUNTS_ACCOUNT_REJECT_MAX_LENGTH_FOR_REASON  = 5000

    # @return Crest::Request
    def build_api_request_for_post_accounts_account_reject(
      *,
      account : String? = nil,
      reason : String? = nil,
      expand : Array(String)? = nil
    ) : Crest::Request
      if debugging?
        Log.debug { "Calling API: AccountsApi.post_accounts_account_reject ..." }
      end

      if client_side_validation?
        raise ArgumentError.new("\"account\" is required and cannot be null") if account.nil?
        unless (_account = account).nil?
          OpenApi::PrimitiveValidator.validate_max_length("account", account.to_s.size, POST_ACCOUNTS_ACCOUNT_REJECT_MAX_LENGTH_FOR_ACCOUNT)
        end
        raise ArgumentError.new("\"reason\" is required and cannot be null") if reason.nil?
        unless (_reason = reason).nil?
          OpenApi::PrimitiveValidator.validate_max_length("reason", reason.to_s.size, POST_ACCOUNTS_ACCOUNT_REJECT_MAX_LENGTH_FOR_REASON)
        end
      end

      # resource path
      local_var_path = "/v1/accounts/{account}/reject".sub("{" + "account" + "}", URI.encode_path(account.to_s))

      # header parameters
      header_params : Hash(String, String) = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/x-www-form-urlencoded"])

      # cookie parameters
      cookie_params : Hash(String, String) = Hash(String, String).new

      # query parameters
      query_params : Hash(String, (String | Array(String) | JSON::Any)) = Hash(String, (String | Array(String) | JSON::Any)).new

      # form parameters
      form_params : Array(Tuple(String, Crest::ParamsValue)) | Nil = Array(Tuple(String, Crest::ParamsValue)).new
      form_params.concat(Crest::ZeroEnumeratedFlatParamsEncoder.flatten_params(JSON.parse(expand.to_json), "expand")) if !expand.nil?
      form_params << Tuple(String, Crest::ParamsValue).new("reason", reason.to_s) if !reason.nil?

      # http body (model)
      post_body : IO | String | Nil = nil

      # auth_names
      auth_names = ["basicAuth", "bearerAuth"]

      @api_client.build_api_request(
        http_method: :"POST",
        path: local_var_path,
        operation: "AccountsApi.post_accounts_account_reject",
        post_body: post_body,
        auth_names: auth_names,
        header_params: header_params,
        cookie_params: cookie_params,
        query_params: query_params,
        form_params: form_params
      )
    end
  end
end
